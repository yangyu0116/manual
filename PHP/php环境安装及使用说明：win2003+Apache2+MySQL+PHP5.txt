php环境安装及使用说明 
	-- 杨宇

使用版本（最新稳定版本）：
apache_2.2.4-win32-x86-no_ssl.msi
php-5.2.2-Win32.zip
mysql-noinstall-5.0.41-win32.zip
下载:
www.apache.org
www.php.net
www.mysql.com
一、PHP环境的安装
1、安装Apache到d:\server\Apache
     安装过程中的设置:
     Network Domain:127.0.0.1
     Server Name:127.0.0.1
     Administrator's Email Address: (设置成你自己的E-mail)
     "Setup Type"选择"Custom"
     设置目录时把  C:\Program Files\Apache Software Foundation\Apache2.2\  改为:  d:\server\Apache
     安装完成后,在浏览器中输入"http://localhost/",可以看到一个页面,内容为"It works!"，该网页位于D:\server\Apache\htdocs。
2、解压缩PHP到d:\server\php
3、解压MySQL到d:\server\mysql
4、配置Apache
    a.修改d:\server\Apache\conf\http.conf(找到所在的行并修改):
   
   ①因为用虚拟域名,把以下各行注释掉:
     ##DocumentRoot "D:/server/Apache/htdocs"
     ##<Directory />
     ##    Options FollowSymLinks
     ##    AllowOverride None
     ##    Order deny,allow
     ##    Deny from all
     ##    Satisfy all
     ##</Directory>
    ##<Directory "D:/server/Apache/htdocs">
    ###    Options Indexes FollowSymLinks
     ###    AllowOverride None
     ###    Order allow,deny
     ###    Allow from all
     
     ###</Directory>
     ② DirectoryIndex index.html index.html.var
     改为:
     DirectoryIndex index.jsp index.php index.html index.htm index.wml
   
     ③为支持PHP,在文件末尾增加以下几行(cgi和module模式请选择一种,一般用module模式):
     LoadModule php5_module "d:/server/php/php5apache2_2.dll" 
     AddType application/x-httpd-php .php         
     PHPIniDir "d:/server/php"
    ④除掉这一行的注释（可以在httpd-vhosts.conf配置多个虚拟站点）:
    Include conf/extra/httpd-vhosts.conf


    b.修改d:\server\Apache\conf\extra\httpd-vhosts.conf
     
     NameVirtualHost *:80
     <VirtualHost *:80>
    Options None
    DocumentRoot d:\www\yangyu
    ServerName yangyu.com
    </VirtualHost>
    注：
    ①上面虚拟主机设置中的 "Options None"这一行:访问没有DirectoryIndex索引时禁止目录列表 。
    ②yangyu.com是我自己的测试域名，你可以根据实际情况设定你自己的测试域名，比如 my.com 。

5、配置PHP
   ①创建新文件d:\server\php\php.ini,将d:\server\php\php.ini-dist中的内容复制到php.ini中,然后修改php.ini:
   把需要用到的extension=php_*.dll前的注释";"去掉(注意,在php.ini中,注释符号是分号)
   extension=php_curl.dll
   extension=php_gd2.dll
   extension=php_mysql.dll
   ......
   设置:
   extension_dir = "d:\server\php\ext"
  ②设置 upload_tmp_dir = d:\tmp
    注:设置上传文件的临时存放地，请先创建 d:\tmp 这个目录
    注：php 5.2.2 不设置也行

  ③把d:\server\php\libmysql.dll拷到c:\windows\system32目录中。  


6、安装Zend
最新版本: ZendOptimizer-3.3.0Beta-Windows-i386.exe
Web server:选 Apache 2.*
php.ini:选 d:\server\php
web server 位置: d:\server\apache
二、使用
1、下载 http://xingmo.net/winmysqladmin.rar (这是mysql的管理工具,新的版本中没有这个软件),解压后把 winmysqladmin.exe 放在D:\server\mysql\bin 中。点击 winmysqladmin.exe（第一次打开它，会出现一个窗口，提示你输入用户名和密码，都输入root就行了） ，会在电脑的右下角打开一个像红绿灯一样的东西，你可以用这个软件开启动或停止mysql。
2、修改c:\windows\system32\drivers\etc\hosts,增加这样一行:
127.0.0.1  yangyu.com
然后就可以浏览yangyu.com访问并调试程序了。
注：yangyu.com是我自己的测试域名，你可以根据实际情况设定你自己的测试域名，比如 my.com 。
3、修改mysql密码:
在dos窗口:
d:
cd server\mysql\bin
.\mysqladmin.exe -uroot -p password 新密码
4、配置和使用phpMyAdmin:
①下载phpMyAdmin:http://www.phpMyAdmin.net ，目前最新版本为 phpMyAdmin-2.10.1-all-languages.zip
②将phpMyAdmin解压到你的网站目录中，如 d:\www\xingmo\phpMyAdmin 。然后访问 http://www1.xingmo.com/phpMyAdmin 就可以使用phpMyAdmin来管理数据库了。
③在phpMyAdmin目录中创建一个新文件 config.inc.php，把下面的代码复制进去，保存:
<?php
$i=0;
$i++;
$cfg['Servers'][$i]['user']          = 'MySQL帐号';
$cfg['Servers'][$i]['password']      = 'MySQL密码'; // use here your password
$cfg['Servers'][$i]['port']          = '';
?>
注意：修改其中的MySQL帐号和密码。

文中的路径及相关参数，可以根据自己的情况有所不同。
上述操作已经过多次安装，不过经验有限，若有错误或者有待改进的地方，请各位不吝批评指教！
（升级或再次安装时：安装Apache；把d:\server\php\libmysql.dll拷到c:\windows\system32目录中）
（重新安装后需要重新安装Zend optimizer)

