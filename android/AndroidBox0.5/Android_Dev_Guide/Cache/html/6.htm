<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"><html>
<head>
<meta http-equiv=Content-Type content="text/html; charset=gb2312">
<link rel="stylesheet" href="Word2Chm.css" type="text/css">
<title> Android Interface Definition Language(AIDL)</title>
</head>
<body>   
<div class=WordSection6 style='layout-grid:15.6pt'><br clear=all
style='page-break-before:always'>

<p class=MsoNormal align=center style='text-align:center'><a name=aidl><b><span
lang=EN-US style='font-size:18.0pt'>Android Interface Definition Language(AIDL)</span></b></a></p>
<p class=MsoNormal align=center style='text-align:center'><span
>译者署名：</span> <span><a target="_blank" href="http://t.sina.com.cn/wenbin1027"><span style='font-family:
宋体'><span>移动云</span></span>_<span style='font-family:
宋体'><span>文斌</span></span></a></span></p>
<p class=MsoNormal align=center style='text-align:center'><span
>译者链接：</span><span><a target="_blank" href="http://blog.csdn.net/caowenbin">http://blog.csdn.net/caowenbin</a></span></p>
<p class=MsoNormal align=center style='text-align:center'><span
>版本：</span><span>Android 2.3 r1</span></p>
<p class=MsoNormal align=left style='text-align:left'><b><span
style='font-size:12.0pt;font-family:宋体'>原文</span></b></p>
<p class=MsoNormal align=left style='text-align:left'><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <a target="_blank" href="http://developer.android.com/guide/developing/tools/aidl.html">http://developer.android.com/guide/developing/tools/aidl.html</a>&nbsp;
(</span><span style='font-family:宋体;color:red'>注意：</span><span
style='color:red'>3.0 r1 </span><span style='font-family:宋体;color:red'>以后移到</span><span
lang=EN-US style='color:red'>Appendix</span><span style='font-family:宋体;
color:red'>下</span><span>)</span></p>
<p class=MsoNormal align=left style='text-align:left'><span>&nbsp;</span></p>
<p class=MsoNormal align=left style='text-align:left'><b><span
style='font-size:12.0pt;font-family:宋体'>使用</span></b><b><span
style='font-size:12.0pt'>AIDL</span></b><b><span style='font-size:12.0pt;
font-family:宋体'>设计远程接口</span></b><b><span style='font-size:12.0pt'>(Designing
a Remote Interface Using AIDL)</span></b></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
>由于每个应用程序都运行在自己的进程空间，并且可以从应用程序</span><span>UI</span><span
>运行另一个服务进程，而且经常会在不同的进程间传递对象。在</span><span>Android</span><span
>平台，一个进程通常不能访问另一个进程的内存空间，所以要想对话，需要将对象分解成操作系统可以理解的基本单元，并且有序的通过进程边界。</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
>通过代码来实现这个数据传输过程是冗长乏味的，</span><span>Android</span><span
>提供了</span><span>AIDL</span><span
>工具来处理这项工作。</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
lang=EN-US>AIDL (Android Interface Definition Language)</span><span
>是一种</span><span>IDL </span><span
>语言，用于生成可以在</span><span>Android</span><span
>设备上两个进程之间进行进程间通信</span><span>(IPC)</span><span
>的代码。如果在一个进程中（例如</span><span>Activity</span><span
>）要调用另一个进程中（例如</span><span>Service</span><span
>）对象的操作，就可以使用</span><span>AIDL</span><span
>生成可序列化的参数。</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
lang=EN-US>AIDL IPC</span><span >机制是面向接口的，像</span><span
lang=EN-US>COM</span><span >或</span><span>Corba</span><span
>一样，但是更加轻量级。它是使用代理类在客户端和实现端传递数据。</span></p>
<p class=MsoNormal align=left style='text-align:left'><span>&nbsp;</span></p>
<p class=MsoNormal align=center style='text-align:center'><b><span
style='font-size:14.0pt;font-family:宋体'>使用</span></b><b><span
style='font-size:14.0pt'>AIDL</span></b><b><span style='font-size:14.0pt;
font-family:宋体'>实现</span></b><b><span style='font-size:14.0pt'>IPC(Implementing
IPC Using AIDL)</span></b></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
>使用</span><span>AIDL</span><span
>实现</span><span>IPC</span><span
>服务的步骤是：</span></p>
<p class=MsoNormal align=left style='margin-left:42.0pt;text-align:left;
text-indent:-21.0pt'><span>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span >创建</span><span>.aidl</span><span
>文件</span><span>-</span><span
>该文件（</span><span>YourInterface.aidl</span><span
>）定义了客户端可用的方法和数据的接口。</span></p>
<p class=MsoNormal align=left style='margin-left:42.0pt;text-align:left;
text-indent:-21.0pt'><span>2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span >在</span><span>makefile</span><span
>文件中加入</span><span>.aidl</span><span
>文件</span><span>-</span><span
>（</span><span>Eclipse</span><span
>中的</span><span>ADT</span><span
>插件提供管理功能）</span><span>Android</span><span
>包括名为</span><span>AIDL</span><span
>的编译器，位于</span><span>tools/</span><span
>文件夹。</span></p>
<p class=MsoNormal align=left style='margin-left:42.0pt;text-align:left;
text-indent:-21.0pt'><span>3.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span >实现接口</span><span>-AIDL</span><span
>编译器从</span><span>AIDL</span><span
>接口文件中利用</span><span>Java</span><span
>语言创建接口，该接口有一个继承的命名为</span><span>Stub</span><span
>的内部抽象类（并且实现了一些</span><span>IPC</span><span
>调用的附加方法），要做的就是创建一个继承于</span><span>YourInterface.Stub</span><span
>的类并且实现在</span><span>.aidl</span><span
>文件中声明的方法。</span></p>
<p class=MsoNormal align=left style='margin-left:42.0pt;text-align:left;
text-indent:-21.0pt'><span>4.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span >向客户端公开接口</span><span>-</span><span
>如果是编写服务，应该继承</span><span>Service</span><span
>并且重载</span><span>Service.onBind(Intent) </span><span
>以返回实现了接口的对象实例</span></p>
<p class=MsoNormal align=left style='margin-left:21.0pt;text-align:left'><span
lang=EN-US>&nbsp;</span></p>
<p class=MsoNormal align=left style='text-align:left'><b><span
style='font-size:12.0pt;font-family:宋体'>创建</span></b><b><span
style='font-size:12.0pt'>.aidl</span></b><b><span style='font-size:12.0pt;
font-family:宋体'>文件</span></b><b><span style='font-size:12.0pt'>(Create
an .aidl File)</span></b></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
lang=EN-US>AIDL</span><span >使用简单的语法来声明接口，描述其方法以及方法的参数和返回值。这些参数和返回值可以是任何类型，甚至是其他</span><span
lang=EN-US>AIDL</span><span >生成的接口。重要的是必须导入所有非内置类型，哪怕是这些类型是在与接口相同的包中。下面是</span><span
lang=EN-US>AIDL</span><span >能支持的数据类型：</span></p>
<p class=MsoNormal align=left style='margin-left:42.0pt;text-align:left;
text-indent:-21.0pt'><span style='font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span>Java</span><span
>编程语言的主要类型</span><span> (int, boolean</span><span
>等</span><span>) </span><span
>―</span> <span >不需要</span><span
lang=EN-US> import </span><span >语句。</span></p>
<p class=MsoNormal align=left style='margin-left:42.0pt;text-align:left;
text-indent:-21.0pt'><span style='font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span
>以下的类</span><span> (</span><span
>不需要</span><span>import </span><span
>语句</span><span>):</span></p>
<p class=MsoNormal align=left style='margin-left:63.0pt;text-align:left;
text-indent:-21.0pt'><strong><span style='font-family:Wingdings;
font-weight:normal'>n<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span></strong><strong><span
lang=EN-US style='font-family:"Calibri","sans-serif"'>String</span></strong></p>
<p class=MsoNormal align=left style='margin-left:63.0pt;text-align:left;
text-indent:-21.0pt'><span style='font-family:Wingdings'>n<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><strong><span
lang=EN-US style='font-family:"Calibri","sans-serif"'>List</span></strong><span
lang=EN-US> -</span><span >列表中的所有元素必须是在此列出的类型，包括其他</span><span
lang=EN-US>AIDL</span><span >生成的接口和可打包类型。</span><span
lang=EN-US>List</span><span >可以像一般的类（例如</span><span
lang=EN-US>List&lt;String&gt;</span><span >）那样使用，另一边接收的具体类一般是一个</span><span
lang=EN-US>ArrayList</span><span >，这些方法会使用</span><span
lang=EN-US>List</span><span >接口。</span></p>
<p class=MsoNormal align=left style='margin-left:63.0pt;text-align:left;
text-indent:-21.0pt'><span style='font-family:Wingdings'>n<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><strong><span
lang=EN-US style='font-family:"Calibri","sans-serif"'>Map</span></strong><span
lang=EN-US> - Map</span><span >中的所有元素必须是在此列出的类型，包括其他</span><span
lang=EN-US>AIDL</span><span >生成的接口和可打包类型。一般的</span><span
lang=EN-US>maps</span><span >（例如</span><span>Map&lt;String,Integer&gt;</span><span
>）不被支持，另一边接收的具体类一般是一个</span><span>HashMap</span><span
>，这些方法会使用</span><span>Map</span><span
>接口。</span></p>
<p class=MsoNormal align=left style='margin-left:63.0pt;text-align:left;
text-indent:-21.0pt'><span style='font-family:Wingdings'>n<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><strong><span
lang=EN-US style='font-family:"Calibri","sans-serif"'>CharSequence</span></strong><span
lang=EN-US> -</span><span >该类是被</span><span>TextView</span><span
>和其他控件对象使用的字符序列。</span></p>
<p class=MsoNormal align=left style='margin-left:42.0pt;text-align:left;
text-indent:-21.0pt'><span style='font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span
>通常引引用方式传递的其他</span><span>AIDL</span><span
>生成的接口，必须要</span><span>import </span><span
>语句声明</span></p>
<p class=MsoNormal align=left style='margin-left:42.0pt;text-align:left;
text-indent:-21.0pt'><span style='font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span
>实现了</span><span>Parcelable protocol </span><span
>以及按值传递的自定义类，必须要</span><span>import </span><span
>语句声明。</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
>以下是基本的</span><span>AIDL</span><span
>语法：</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
lang=EN-US><img border=0 width=554 height=384
src="image/image004.jpg"></span></p>
<p class=MsoNormal align=left style='text-align:left'><span>&nbsp;</span></p>
<p class=MsoNormal align=left style='text-align:left'><b><span
style='font-size:12.0pt;font-family:宋体'>实现接口</span></b><b><span
style='font-size:12.0pt'>(Implementing the Interface)</span></b></p>
<p class=MsoNormal align=left style='text-align:left'><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; AIDL</span><span
>生成了与</span><span>.aidl</span><span
>文件同名的接口，如果使用</span><span>Eclipse</span><span
>插件，</span><span>AIDL</span><span
>会做为编译过程的一部分自动运行（不需要先运行</span><span>AIDL</span><span
>再编译项目），如果没有插件，就要先运行</span><span>AIDL</span><span
>。</span></p>
<p class=MsoNormal align=left style='text-align:left'><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>生成的接口包含一个名为</span><span>Stub</span><span
>的抽象的内部类，该类声明了所有</span><span>.aidl</span><span
>中描述的方法，</span><span>Stub</span><span
>还定义了少量的辅助方法，尤其是</span><span>asInterface()</span><span
>，通过它或以获得</span><span>IBinder</span><span
>（当</span><span>applicationContext.bindService()</span><span
>成功调用时传递到客户端的</span><span>onServiceConnected()</span><span
>）并且返回用于调用</span><span>IPC</span><span
>方法的接口实例，更多细节参见</span><span><a target="_blank" href="http://developer.android.com/guide/developing/tools/aidl.html#calling">Calling
an IPC Method</a></span><span >。</span></p>
<p class=MsoNormal align=left style='text-align:left'><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>要实现自己的接口，就从</span><span>YourInterface.Stub</span><span
>类继承，然后实现相关的方法（可以创建</span><span>.aidl</span><span
>文件然后实现</span><span>stub</span><span
>方法而不用在中间编译，</span><span>Android</span><span
>编译过程会在</span><span>.java</span><span
>文件之前处理</span><span>.aidl</span><span
>文件）。</span></p>
<p class=MsoNormal align=left style='text-align:left'><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>这个例子实现了对</span><span>IRemoteService</span><span
>接口的调用，这里使用了匿名对象并且只有一个</span><span>getPid()</span><span
>接口。</span><span><img border=0 width=543
height=114 src="image/image005.png"></span></p>
<p class=MsoNormal align=left style='text-align:left'><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>这里是实现接口的几条说明：</span></p>
<p class=MsoNormal align=left style='margin-left:42.0pt;text-align:left;
text-indent:-21.0pt'><span style='font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span
>不会有返回给调用方的异常</span></p>
<p class=MsoNormal align=left style='margin-left:42.0pt;text-align:left;
text-indent:-21.0pt'><span style='font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span
>默认</span><span>IPC</span><span
>调用是同步的。如果已知</span><span>IPC</span><span
>服务端会花费很多毫秒才能完成，那就不要在</span><span>Activity</span><span
>或</span><span>View</span><span
>线程中调用，否则会引起应用程序挂起（</span><span>Android</span><span
>可能会显示“应用程序未响应”对话框），可以试着在独立的线程中调用。</span></p>
<p class=MsoNormal align=left style='margin-left:42.0pt;text-align:left;
text-indent:-21.0pt'><span style='font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span>AIDL</span><span
>接口中只支持方法，不能声明静态成员。</span></p>
<p class=MsoNormal align=left style='text-align:left'><span>&nbsp;</span></p>
<p class=MsoNormal align=left style='text-align:left'><b><span
style='font-size:12.0pt;font-family:宋体'>向客户端暴露接口</span></b><b><span
style='font-size:12.0pt'>(Exposing Your Interface to Clients)</span></b></p>
<p class=MsoNormal align=left style='text-align:left'><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>在完成了接口的实现后需要向客户端暴露接口了，也就是发布服务，实现的方法是继承</span><span
lang=EN-US> Service</span><span >，然后实现以</span><span
lang=EN-US>Service.onBind(Intent)</span><span >返回一个实现了接口的类对象。下面的代码片断表示了暴露</span><span
lang=EN-US>IRemoteService</span><span >接口给客户端的方式。</span></p>

<div style='border:solid #CCCCCC 1.0pt;padding:8.0pt 8.0pt 8.0pt 8.0pt;
background:#FAFAFA;margin-left:11.9pt;margin-right:0cm'><pre style='background:
#FAFAFA;border:none;padding:0cm'><span class=kwd><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:#000088'>public</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> </span></span><span class=kwd><span style='font-size:
10.5pt;font-family:"Calibri","sans-serif";color:#000088'>class</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> </span></span><span class=typ><span style='font-size:
10.5pt;font-family:"Calibri","sans-serif";color:#660066'>RemoteService</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> </span></span><span class=kwd><span style='font-size:
10.5pt;font-family:"Calibri","sans-serif";color:#000088'>extends</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> </span></span><span class=typ><span style='font-size:
10.5pt;font-family:"Calibri","sans-serif";color:#660066'>Service</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> </span></span><span class=pun><span style='font-family:
"Calibri","sans-serif";color:#666600'>{</span></span></pre><pre
style='background:#FAFAFA;border:none;padding:0cm'><span class=pun><span
lang=EN-US style='font-family:"Calibri","sans-serif";color:#666600'>...</span></span></pre><pre
style='text-indent:14.25pt;background:#FAFAFA;border:none;padding:0cm'><span
class=lit><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#006666'>@Override</span></span></pre><pre style='text-indent:14.25pt;
background:#FAFAFA;border:none;padding:0cm'><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>&nbsp; &nbsp; </span></span><span
class=kwd><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#000088'>public</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> </span></span><span
class=typ><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#660066'>IBinder</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> onBind</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>(</span></span><span class=typ><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:#660066'>Intent</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> intent</span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>)</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> </span></span><span class=pun><span style='font-family:
"Calibri","sans-serif";color:#666600'>{</span></span></pre><pre
style='text-indent:14.25pt;background:#FAFAFA;border:none;padding:0cm'><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>&nbsp; &nbsp; &nbsp; &nbsp; </span></span><span class=com><span
lang=EN-US style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#880000'>// Select the interface to return. &nbsp;If your service only implements</span></span></pre><pre
style='text-indent:14.25pt;background:#FAFAFA;border:none;padding:0cm'><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>&nbsp; &nbsp; &nbsp; &nbsp; </span></span><span class=com><span
lang=EN-US style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#880000'>// a single interface, you can just return it here without checking</span></span></pre><pre
style='text-indent:14.25pt;background:#FAFAFA;border:none;padding:0cm'><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>&nbsp; &nbsp; &nbsp; &nbsp; </span></span><span class=com><span
lang=EN-US style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#880000'>// the Intent.</span></span></pre><pre style='text-indent:14.25pt;
background:#FAFAFA;border:none;padding:0cm'><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>&nbsp; &nbsp; &nbsp; &nbsp; </span></span><span
class=kwd><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#000088'>if</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> </span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>(</span></span><span class=typ><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:#660066'>IRemoteService</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>.</span></span><span class=kwd><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:#000088'>class</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>.</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>getName</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>().</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>equals</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>(</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>intent</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>.</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>getAction</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>()))</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> </span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>{</span></span></pre><pre style='text-indent:14.25pt;background:
#FAFAFA;border:none;padding:0cm'><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span></span><span
class=kwd><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#000088'>return</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> mBinder</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>;</span></span></pre><pre style='text-indent:14.25pt;background:
#FAFAFA;border:none;padding:0cm'><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>&nbsp; &nbsp; &nbsp; &nbsp; </span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>}</span></span></pre><pre style='text-indent:14.25pt;background:
#FAFAFA;border:none;padding:0cm'><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>&nbsp; &nbsp; &nbsp; &nbsp; </span></span><span
class=kwd><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#000088'>if</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> </span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>(</span></span><span class=typ><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:#660066'>ISecondary</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>.</span></span><span class=kwd><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:#000088'>class</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>.</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>getName</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>().</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>equals</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>(</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>intent</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>.</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>getAction</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>()))</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> </span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>{</span></span></pre><pre style='text-indent:14.25pt;background:
#FAFAFA;border:none;padding:0cm'><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span></span><span
class=kwd><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#000088'>return</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> mSecondaryBinder</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>;</span></span></pre><pre style='text-indent:14.25pt;background:
#FAFAFA;border:none;padding:0cm'><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>&nbsp; &nbsp; &nbsp; &nbsp; </span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>}</span></span></pre><pre style='text-indent:14.25pt;background:
#FAFAFA;border:none;padding:0cm'><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>&nbsp; &nbsp; &nbsp; &nbsp; </span></span><span
class=kwd><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#000088'>return</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> </span></span><span
class=kwd><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#000088'>null</span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>;</span></span></pre><pre
style='text-indent:14.25pt;background:#FAFAFA;border:none;padding:0cm'><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>&nbsp; &nbsp; </span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>}</span></span></pre><pre
style='text-indent:14.25pt;background:#FAFAFA;border:none;padding:0cm'><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>&nbsp;</span></span></pre><pre style='text-indent:14.25pt;
background:#FAFAFA;border:none;padding:0cm'><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>&nbsp; &nbsp; </span></span><span
class=com><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#880000'>/**</span></span></pre><pre style='text-indent:14.25pt;
background:#FAFAFA;border:none;padding:0cm'><span class=com><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:#880000'>&nbsp; &nbsp; &nbsp;* The IRemoteInterface is defined through IDL</span></span></pre><pre
style='text-indent:14.25pt;background:#FAFAFA;border:none;padding:0cm'><span
class=com><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#880000'>&nbsp; &nbsp; &nbsp;*/</span></span></pre><pre style='text-indent:
14.25pt;background:#FAFAFA;border:none;padding:0cm'><span class=pln><span
lang=EN-US style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>&nbsp; &nbsp; </span></span><span class=kwd><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:#000088'>private</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> </span></span><span class=kwd><span style='font-size:
10.5pt;font-family:"Calibri","sans-serif";color:#000088'>final</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> </span></span><span class=typ><span style='font-size:
10.5pt;font-family:"Calibri","sans-serif";color:#660066'>IRemoteService</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>.</span></span><span class=typ><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:#660066'>Stub</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> mBinder </span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>=</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> </span></span><span class=kwd><span style='font-size:
10.5pt;font-family:"Calibri","sans-serif";color:#000088'>new</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> </span></span><span class=typ><span style='font-size:
10.5pt;font-family:"Calibri","sans-serif";color:#660066'>IRemoteService</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>.</span></span><span class=typ><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:#660066'>Stub</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>()</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> </span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>{</span></span></pre><pre style='text-indent:14.25pt;background:
#FAFAFA;border:none;padding:0cm'><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>&nbsp; &nbsp; &nbsp; &nbsp; </span></span><span
class=kwd><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#000088'>public</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> </span></span><span
class=kwd><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#000088'>void</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> registerCallback</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>(</span></span><span class=typ><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:#660066'>IRemoteServiceCallback</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> cb</span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>)</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> </span></span><span class=pun><span style='font-family:
"Calibri","sans-serif";color:#666600'>{</span></span></pre><pre
style='text-indent:14.25pt;background:#FAFAFA;border:none;padding:0cm'><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span></span><span
class=kwd><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#000088'>if</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> </span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>(</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>cb </span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>!=</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> </span></span><span
class=kwd><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#000088'>null</span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>)</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> mCallbacks</span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>.</span></span><span
class=kwd><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#000088'>register</span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>(</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>cb</span></span><span class=pun><span style='font-family:
"Calibri","sans-serif";color:#666600'>);</span></span></pre><pre
style='text-indent:14.25pt;background:#FAFAFA;border:none;padding:0cm'><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>&nbsp; &nbsp; &nbsp; &nbsp; </span></span><span class=pun><span
lang=EN-US style='font-family:"Calibri","sans-serif";color:#666600'>}</span></span></pre><pre
style='text-indent:14.25pt;background:#FAFAFA;border:none;padding:0cm'><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>&nbsp; &nbsp; &nbsp; &nbsp; </span></span><span class=kwd><span
lang=EN-US style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#000088'>public</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> </span></span><span
class=kwd><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#000088'>void</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> unregisterCallback</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>(</span></span><span class=typ><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:#660066'>IRemoteServiceCallback</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> cb</span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>)</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> </span></span><span class=pun><span style='font-family:
"Calibri","sans-serif";color:#666600'>{</span></span></pre><pre
style='text-indent:14.25pt;background:#FAFAFA;border:none;padding:0cm'><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span></span><span
class=kwd><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#000088'>if</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> </span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>(</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>cb </span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>!=</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> </span></span><span
class=kwd><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#000088'>null</span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>)</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> mCallbacks</span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>.</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>unregister</span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>(</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>cb</span></span><span class=pun><span style='font-family:
"Calibri","sans-serif";color:#666600'>);</span></span></pre><pre
style='text-indent:14.25pt;background:#FAFAFA;border:none;padding:0cm'><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>&nbsp; &nbsp; &nbsp; &nbsp; </span></span><span class=pun><span
lang=EN-US style='font-family:"Calibri","sans-serif";color:#666600'>}</span></span></pre><pre
style='text-indent:14.25pt;background:#FAFAFA;border:none;padding:0cm'><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>&nbsp; &nbsp; </span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>};</span></span></pre><pre
style='text-indent:14.25pt;background:#FAFAFA;border:none;padding:0cm'><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>&nbsp;</span></span></pre><pre style='text-indent:14.25pt;
background:#FAFAFA;border:none;padding:0cm'><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>&nbsp; &nbsp; </span></span><span
class=com><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#880000'>/**</span></span></pre><pre style='text-indent:14.25pt;
background:#FAFAFA;border:none;padding:0cm'><span class=com><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:#880000'>&nbsp; &nbsp; &nbsp;* A secondary interface to the service.</span></span></pre><pre
style='text-indent:14.25pt;background:#FAFAFA;border:none;padding:0cm'><span
class=com><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#880000'>&nbsp; &nbsp; &nbsp;*/</span></span></pre><pre style='text-indent:
14.25pt;background:#FAFAFA;border:none;padding:0cm'><span class=pln><span
lang=EN-US style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>&nbsp; &nbsp; </span></span><span class=kwd><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:#000088'>private</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> </span></span><span class=kwd><span style='font-size:
10.5pt;font-family:"Calibri","sans-serif";color:#000088'>final</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> </span></span><span class=typ><span style='font-size:
10.5pt;font-family:"Calibri","sans-serif";color:#660066'>ISecondary</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>.</span></span><span class=typ><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:#660066'>Stub</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> mSecondaryBinder </span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>=</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> </span></span><span class=kwd><span style='font-size:
10.5pt;font-family:"Calibri","sans-serif";color:#000088'>new</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> </span></span><span class=typ><span style='font-size:
10.5pt;font-family:"Calibri","sans-serif";color:#660066'>ISecondary</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>.</span></span><span class=typ><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:#660066'>Stub</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>()</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> </span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>{</span></span></pre><pre style='text-indent:14.25pt;background:
#FAFAFA;border:none;padding:0cm'><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>&nbsp; &nbsp; &nbsp; &nbsp; </span></span><span
class=kwd><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#000088'>public</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> </span></span><span
class=kwd><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#000088'>int</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> getPid</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>()</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> </span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>{</span></span></pre><pre style='text-indent:14.25pt;background:
#FAFAFA;border:none;padding:0cm'><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span></span><span
class=kwd><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#000088'>return</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> </span></span><span
class=typ><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#660066'>Process</span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>.</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>myPid</span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>();</span></span></pre><pre
style='text-indent:14.25pt;background:#FAFAFA;border:none;padding:0cm'><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>&nbsp; &nbsp; &nbsp; &nbsp; </span></span><span class=pun><span
lang=EN-US style='font-family:"Calibri","sans-serif";color:#666600'>}</span></span></pre><pre
style='text-indent:14.25pt;background:#FAFAFA;border:none;padding:0cm'><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>&nbsp; &nbsp; &nbsp; &nbsp; </span></span><span class=kwd><span
lang=EN-US style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#000088'>public</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> </span></span><span
class=kwd><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#000088'>void</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> basicTypes</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>(</span></span><span class=kwd><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:#000088'>int</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> anInt</span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>,</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> </span></span><span class=kwd><span style='font-size:
10.5pt;font-family:"Calibri","sans-serif";color:#000088'>long</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> aLong</span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>,</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> </span></span><span class=kwd><span style='font-size:
10.5pt;font-family:"Calibri","sans-serif";color:#000088'>boolean</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> aBoolean</span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>,</span></span></pre><pre
style='text-indent:14.25pt;background:#FAFAFA;border:none;padding:0cm'><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span></span><span
class=kwd><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#000088'>float</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> aFloat</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>,</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> </span></span><span
class=kwd><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#000088'>double</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> aDouble</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>,</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> </span></span><span
class=typ><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#660066'>String</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> aString</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>)</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> </span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>{</span></span></pre><pre style='text-indent:14.25pt;background:
#FAFAFA;border:none;padding:0cm'><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>&nbsp; &nbsp; &nbsp; &nbsp; </span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>}</span></span></pre><pre style='text-indent:14.25pt;background:
#FAFAFA;border:none;padding:0cm'><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>&nbsp; &nbsp; </span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>};</span></span></pre><pre style='text-indent:14.25pt;
background:#FAFAFA;border:none;padding:0cm'><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>&nbsp;</span></span></pre><pre
style='text-indent:14.25pt;background:#FAFAFA;border:none;padding:0cm'><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>}</span></span></pre></div>

<p class=MsoNormal align=left style='text-align:left'><span>&nbsp;</span></p>
<p class=MsoNormal align=left style='text-align:left'><b><span
style='font-size:12.0pt;font-family:宋体'>使用可打包接口传递参数</span></b><b><span
lang=EN-US style='font-size:12.0pt'>Pass by value Parameters using Parcelables</span></b></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
>如果有类想要能过</span><span>AIDL</span><span
>在进程之间传递，这一想法是可以实现的，必须确保这个类在</span><span>IPC</span><span
>的两端的有效性，通常的情形是与一个启动的服务通信。</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
>这里列出了使类能够支持</span><span>Parcelable</span><span
>的</span><span>4</span><span style='font-family:
宋体'>个步骤：【译者注：原文为</span><span>5</span><span >，但列表为</span><span
lang=EN-US>4</span><span >项，疑为作者笔误】</span></p>
<p class=MsoNormal align=left style='margin-left:42.0pt;text-align:left;
text-indent:-21.0pt'><span>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span >使该类实现</span><span>Parcelabel</span><span
>接口。</span></p>
<p class=MsoNormal align=left style='margin-left:42.0pt;text-align:left;
text-indent:-21.0pt'><span>2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span >实现</span><span>public
void writeToParcel(Parcel out) </span><span >方法，以便可以将对象的当前状态写入包装对象中。</span></p>
<p class=MsoNormal align=left style='margin-left:42.0pt;text-align:left;
text-indent:-21.0pt'><span>3.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span >增加名为</span><span>CREATOR</span><span
>的构造器到类中，并实现</span><span>Parcelable.Creator</span><span
>接口。</span></p>
<p class=MsoNormal align=left style='margin-left:42.0pt;text-align:left;
text-indent:-21.0pt'><span>4.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span >最后，但同样重要的是，创建</span><span
lang=EN-US>AIDL</span><span >文件声明这个可打包的类（见下文），如果使用的是自定义的编译过程，那么不要编译此</span><span
lang=EN-US>AIDL</span><span >文件，它像</span><span
lang=EN-US>C</span><span >语言的头文件一样不需要编译。</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
lang=EN-US>AIDL</span><span >会使用这些方法的成员序列化和反序列化对象。</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
>这个例子演示了如何让</span><span>Rect</span><span
>类实现</span><span>Parcelable</span><span
>接口。</span></p>

<div style='border:solid #CCCCCC 1.0pt;padding:8.0pt 8.0pt 8.0pt 8.0pt;
background:#FAFAFA;margin-left:11.9pt;margin-right:0cm'><pre style='background:
#FAFAFA;border:none;padding:0cm'><span class=kwd><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:#000088'>import</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> android</span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>.</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>os</span></span><span class=pun><span style='font-family:
"Calibri","sans-serif";color:#666600'>.</span></span><span class=typ><span
lang=EN-US style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#660066'>Parcel</span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>;</span></span></pre><pre
style='background:#FAFAFA;border:none;padding:0cm'><span class=kwd><span
lang=EN-US style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#000088'>import</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> android</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>.</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>os</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>.</span></span><span class=typ><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:#660066'>Parcelable</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>;</span></span></pre><pre style='background:#FAFAFA;border:none;
padding:0cm'><span class=kwd><span style='font-size:10.5pt;
font-family:"Calibri","sans-serif";color:#000088'>public</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> </span></span><span class=kwd><span style='font-size:
10.5pt;font-family:"Calibri","sans-serif";color:#000088'>final</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> </span></span><span class=kwd><span style='font-size:
10.5pt;font-family:"Calibri","sans-serif";color:#000088'>class</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> </span></span><span class=typ><span style='font-size:
10.5pt;font-family:"Calibri","sans-serif";color:#660066'>Rect</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> </span></span><span class=kwd><span style='font-size:
10.5pt;font-family:"Calibri","sans-serif";color:#000088'>implements</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> </span></span><span class=typ><span style='font-size:
10.5pt;font-family:"Calibri","sans-serif";color:#660066'>Parcelable</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> </span></span><span class=pun><span style='font-family:
"Calibri","sans-serif";color:#666600'>{</span></span></pre><pre
style='text-indent:25.5pt;background:#FAFAFA;border:none;padding:0cm'><span
class=kwd><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#000088'>public</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> </span></span><span
class=kwd><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#000088'>int</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> left</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>;</span></span></pre><pre style='text-indent:25.5pt;background:
#FAFAFA;border:none;padding:0cm'><span class=kwd><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:#000088'>public</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> </span></span><span class=kwd><span style='font-size:
10.5pt;font-family:"Calibri","sans-serif";color:#000088'>int</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> top</span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>;</span></span></pre><pre
style='text-indent:25.5pt;background:#FAFAFA;border:none;padding:0cm'><span
class=kwd><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#000088'>public</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> </span></span><span
class=kwd><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#000088'>int</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> right</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>;</span></span></pre><pre style='text-indent:25.5pt;background:
#FAFAFA;border:none;padding:0cm'><span class=kwd><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:#000088'>public</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> </span></span><span class=kwd><span style='font-size:
10.5pt;font-family:"Calibri","sans-serif";color:#000088'>int</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> bottom</span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>;</span></span></pre><pre
style='text-indent:25.5pt;background:#FAFAFA;border:none;padding:0cm'><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>&nbsp;</span></span></pre><pre style='text-indent:25.5pt;
background:#FAFAFA;border:none;padding:0cm'><span class=kwd><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:#000088'>public</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> </span></span><span class=kwd><span style='font-size:
10.5pt;font-family:"Calibri","sans-serif";color:#000088'>static</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> </span></span><span class=kwd><span style='font-size:
10.5pt;font-family:"Calibri","sans-serif";color:#000088'>final</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> </span></span><span class=typ><span style='font-size:
10.5pt;font-family:"Calibri","sans-serif";color:#660066'>Parcelable</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>.</span></span><span class=typ><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:#660066'>Creator</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>&lt;</span></span><span class=typ><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:#660066'>Rect</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>&gt;</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> CREATOR </span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>=</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> </span></span><span
class=kwd><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#000088'>new</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> </span></span><span
class=typ><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#660066'>Parcelable</span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>.</span></span><span
class=typ><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#660066'>Creator</span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>&lt;</span></span><span
class=typ><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#660066'>Rect</span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>&gt;()</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> </span></span><span class=pun><span style='font-family:
"Calibri","sans-serif";color:#666600'>{</span></span></pre><pre
style='text-indent:25.5pt;background:#FAFAFA;border:none;padding:0cm'><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>&nbsp; &nbsp;</span></span><span class=kwd><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:#000088'>public</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> </span></span><span class=typ><span style='font-size:
10.5pt;font-family:"Calibri","sans-serif";color:#660066'>Rect</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> createFromParcel</span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>(</span></span><span
class=typ><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#660066'>Parcel</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> </span></span><span
class=kwd><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#000088'>in</span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>)</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> </span></span><span class=pun><span style='font-family:
"Calibri","sans-serif";color:#666600'>{</span></span></pre><pre
style='text-indent:25.5pt;background:#FAFAFA;border:none;padding:0cm'><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>&nbsp; &nbsp; &nbsp; &nbsp;</span></span><span class=kwd><span
lang=EN-US style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#000088'>return</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> </span></span><span
class=kwd><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#000088'>new</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> </span></span><span
class=typ><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#660066'>Rect</span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>(</span></span><span
class=kwd><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#000088'>in</span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>);</span></span></pre><pre
style='text-indent:25.5pt;background:#FAFAFA;border:none;padding:0cm'><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>&nbsp; &nbsp;</span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>}</span></span></pre><pre
style='text-indent:25.5pt;background:#FAFAFA;border:none;padding:0cm'><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>&nbsp;</span></span></pre><pre style='text-indent:25.5pt;
background:#FAFAFA;border:none;padding:0cm'><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>&nbsp; &nbsp; </span></span><span
class=kwd><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#000088'>public</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> </span></span><span
class=typ><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#660066'>Rect</span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>[]</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> newArray</span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>(</span></span><span
class=kwd><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#000088'>int</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> size</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>)</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> </span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>{</span></span></pre><pre style='text-indent:25.5pt;background:
#FAFAFA;border:none;padding:0cm'><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span></span><span
class=kwd><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#000088'>return</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> </span></span><span
class=kwd><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#000088'>new</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> </span></span><span
class=typ><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#660066'>Rect</span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>[</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>size</span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>];</span></span></pre><pre
style='text-indent:25.5pt;background:#FAFAFA;border:none;padding:0cm'><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>&nbsp; &nbsp; &nbsp; &nbsp; </span></span><span class=pun><span
lang=EN-US style='font-family:"Calibri","sans-serif";color:#666600'>}</span></span></pre><pre
style='text-indent:25.5pt;background:#FAFAFA;border:none;padding:0cm'><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>&nbsp; &nbsp; </span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>};</span></span></pre><pre
style='text-indent:25.5pt;background:#FAFAFA;border:none;padding:0cm'><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>&nbsp;</span></span></pre><pre style='text-indent:25.5pt;
background:#FAFAFA;border:none;padding:0cm'><span class=kwd><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:#000088'>public</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> </span></span><span class=typ><span style='font-size:
10.5pt;font-family:"Calibri","sans-serif";color:#660066'>Rect</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>()</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> </span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>{</span></span></pre><pre style='text-indent:25.5pt;background:
#FAFAFA;border:none;padding:0cm'><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>}</span></span></pre><pre
style='text-indent:25.5pt;background:#FAFAFA;border:none;padding:0cm'><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>&nbsp;</span></span></pre><pre style='text-indent:25.5pt;
background:#FAFAFA;border:none;padding:0cm'><span class=kwd><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:#000088'>private</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> </span></span><span class=typ><span style='font-size:
10.5pt;font-family:"Calibri","sans-serif";color:#660066'>Rect</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>(</span></span><span class=typ><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:#660066'>Parcel</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> </span></span><span class=kwd><span style='font-size:
10.5pt;font-family:"Calibri","sans-serif";color:#000088'>in</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>)</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> </span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>{</span></span></pre><pre style='text-indent:25.5pt;background:
#FAFAFA;border:none;padding:0cm'><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>&nbsp; &nbsp;readFromParcel</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>(</span></span><span class=kwd><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:#000088'>in</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>);</span></span></pre><pre style='text-indent:25.5pt;background:
#FAFAFA;border:none;padding:0cm'><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>}</span></span></pre><pre
style='text-indent:25.5pt;background:#FAFAFA;border:none;padding:0cm'><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>&nbsp;</span></span></pre><pre style='text-indent:25.5pt;
background:#FAFAFA;border:none;padding:0cm'><span class=kwd><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:#000088'>public</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> </span></span><span class=kwd><span style='font-size:
10.5pt;font-family:"Calibri","sans-serif";color:#000088'>void</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> writeToParcel</span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>(</span></span><span
class=typ><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#660066'>Parcel</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> </span></span><span
class=kwd><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#000088'>out</span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>)</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> </span></span><span class=pun><span style='font-family:
"Calibri","sans-serif";color:#666600'>{</span></span></pre><pre
style='text-indent:25.5pt;background:#FAFAFA;border:none;padding:0cm'><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>&nbsp; &nbsp; </span></span><span class=kwd><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:#000088'>out</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>.</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>writeInt</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>(</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>left</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>);</span></span></pre><pre style='text-indent:25.5pt;background:
#FAFAFA;border:none;padding:0cm'><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>&nbsp; &nbsp; </span></span><span
class=kwd><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#000088'>out</span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>.</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>writeInt</span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>(</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>top</span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>);</span></span></pre><pre
style='text-indent:25.5pt;background:#FAFAFA;border:none;padding:0cm'><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>&nbsp; &nbsp; </span></span><span class=kwd><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:#000088'>out</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>.</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>writeInt</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>(</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>right</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>);</span></span></pre><pre style='text-indent:25.5pt;background:
#FAFAFA;border:none;padding:0cm'><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>&nbsp; &nbsp; </span></span><span
class=kwd><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#000088'>out</span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>.</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>writeInt</span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>(</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>bottom</span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>);</span></span></pre><pre
style='text-indent:25.5pt;background:#FAFAFA;border:none;padding:0cm'><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>}</span></span></pre><pre style='text-indent:25.5pt;background:
#FAFAFA;border:none;padding:0cm'><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>&nbsp;</span></span></pre><pre
style='text-indent:25.5pt;background:#FAFAFA;border:none;padding:0cm'><span
class=kwd><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#000088'>public</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> </span></span><span
class=kwd><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#000088'>void</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> readFromParcel</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>(</span></span><span class=typ><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:#660066'>Parcel</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> </span></span><span class=kwd><span style='font-size:
10.5pt;font-family:"Calibri","sans-serif";color:#000088'>in</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>)</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> </span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>{</span></span></pre><pre style='text-indent:25.5pt;background:
#FAFAFA;border:none;padding:0cm'><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>&nbsp; &nbsp; left </span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>=</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> </span></span><span
class=kwd><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#000088'>in</span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>.</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>readInt</span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>();</span></span></pre><pre
style='text-indent:25.5pt;background:#FAFAFA;border:none;padding:0cm'><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>&nbsp; &nbsp; top </span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>=</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> </span></span><span class=kwd><span style='font-size:
10.5pt;font-family:"Calibri","sans-serif";color:#000088'>in</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>.</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>readInt</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>();</span></span></pre><pre style='text-indent:25.5pt;
background:#FAFAFA;border:none;padding:0cm'><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>&nbsp; &nbsp; right </span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>=</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> </span></span><span
class=kwd><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#000088'>in</span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>.</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>readInt</span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>();</span></span></pre><pre
style='text-indent:25.5pt;background:#FAFAFA;border:none;padding:0cm'><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>&nbsp; &nbsp; bottom </span></span><span class=pun><span
lang=EN-US style='font-family:"Calibri","sans-serif";color:#666600'>=</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> </span></span><span class=kwd><span style='font-size:
10.5pt;font-family:"Calibri","sans-serif";color:#000088'>in</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>.</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>readInt</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>();</span></span></pre><pre style='text-indent:25.5pt;
background:#FAFAFA;border:none;padding:0cm'><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>}</span></span></pre><pre
style='text-indent:25.5pt;background:#FAFAFA;border:none;padding:0cm'><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>}</span></span></pre></div>

<p class=MsoNormal align=left style='text-align:left'><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>这个是</span><span>Rect.aidl</span><span
>文件。</span></p>
<p class=MsoNormal align=left style='text-align:left'><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <img
border=0 width=475 height=98
src="image/image006.png"></span></p>
<p class=MsoNormal align=left style='text-align:left'><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>序列化</span><span>Rect</span><span
>类的工作相当简单，对可打包的其他类型的数据可以参见</span><span>Parcel</span><span
>类。</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><b><span
style='font-family:宋体;color:#C00000'>警告</span></b><span style='font-family:
宋体'>：不要忘了对从其他进程接收到的数据进行安全检查。在上面的例子中，</span><span>rect</span><span
>要从数据包中读取</span><span>4</span><span
>个数值，需要确认无论调用方想要做什么，这些数值都是在可接受的范围之内。想要了解更多的关于保持应用程序安全的内容，可参见</span>
<span><a target="_blank" href="http://developer.android.com/guide/topics/security/security.html">Security
and Permissions</a></span><span >。</span></p>
<p class=MsoNormal align=left style='text-align:left'><span>&nbsp;</span></p>
<p class=MsoNormal align=left style='text-align:left'><b><span
style='font-size:12.0pt;font-family:宋体'>调用</span></b><b><span
style='font-size:12.0pt'>IPC</span></b><b><span style='font-size:12.0pt;
font-family:宋体'>方法</span></b><b><span style='font-size:12.0pt'>(Calling
an IPC Method)</span></b></p>
<p class=MsoNormal align=left style='text-align:left'><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>这里给出了调用远端接口的步骤：</span></p>
<p class=MsoNormal align=left style='margin-left:42.0pt;text-align:left;
text-indent:-21.0pt'><span>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span >声明</span><span>.aidl</span><span
>文件中定义的接口类型的变量。</span></p>
<p class=MsoNormal align=left style='margin-left:42.0pt;text-align:left;
text-indent:-21.0pt'><span>2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span >实现</span><span>ServiceConnection</span></p>
<p class=MsoNormal align=left style='margin-left:42.0pt;text-align:left;
text-indent:-21.0pt'><span>3.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span >调用</span><span>Context.bindService()</span><span
>，传递</span><span>ServiceConnection</span><span
>的实现</span></p>
<p class=MsoNormal align=left style='margin-left:42.0pt;text-align:left;
text-indent:-21.0pt'><span>4.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span >在</span><span>ServiceConnection.onServiceConnected()</span><span
>方法中会接收到</span><span>IBinder</span><span
>对象，调用</span><span>YourInterfaceName.Stub.asInterface((IBinder)service)</span><span
>将返回值转换为</span><span>YourInterface</span><span
>类型</span></p>
<p class=MsoNormal align=left style='margin-left:42.0pt;text-align:left;
text-indent:-21.0pt'><span>5.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span >调用接口中定义的方法。应该总是捕获连接被打断时抛出的</span><span
lang=EN-US>DeadObjectException</span><span >异常，这是远端方法唯一的异常。</span></p>
<p class=MsoNormal align=left style='margin-left:42.0pt;text-align:left;
text-indent:-21.0pt'><span>6.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span >调用</span><span>Context.unbindService()</span><span
>断开连接</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
>这里是几个调用</span><span>IPC</span><span
>服务的提示：</span></p>
<p class=MsoNormal align=left style='margin-left:42.0pt;text-align:left;
text-indent:-21.0pt'><span style='font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span
>对象是在进程间进行引用计数</span></p>
<p class=MsoNormal align=left style='margin-left:42.0pt;text-align:left;
text-indent:-21.0pt'><span style='font-family:Wingdings'>l<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span
>可以发送匿名对象作为方法参数</span></p>
<p class=MsoNormal align=left style='text-align:left'><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>以下是演示调用</span><span>AIDL</span><span
>创建的服务，可以在</span><span>ApiDemos</span><span
>项目中获取远程服务的示例。</span></p>

<div style='border:solid #CCCCCC 1.0pt;padding:8.0pt 7.0pt 8.0pt 8.0pt;
background:#FAFAFA;margin-left:12.0pt;margin-right:0cm'><pre style='text-indent:
24.0pt;background:#FAFAFA;border:none;padding:0cm'><span class=kwd><span
lang=EN-US style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#000088'>public</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> </span></span><span
class=kwd><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#000088'>static</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> </span></span><span
class=kwd><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#000088'>class</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> </span></span><span
class=typ><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#660066'>Binding</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> </span></span><span
class=kwd><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#000088'>extends</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> </span></span><span
class=typ><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#660066'>Activity</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> </span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>{</span></span><span style='font-size:10.5pt;
font-family:"Calibri","sans-serif";color:black'><br>
<br>
</span></pre><pre style='text-indent:24.0pt;background:#FAFAFA;border:none;
padding:0cm'><span class=com><span style='font-size:10.5pt;
font-family:"Calibri","sans-serif";color:#880000'>/** The primary interface we will be calling on the service. */</span></span></pre><pre
style='text-indent:24.0pt;background:#FAFAFA;border:none;padding:0cm'><span
class=typ><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#660066'>IRemoteService</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> mService </span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>=</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> </span></span><span
class=kwd><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#000088'>null</span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>;</span></span></pre><pre
style='text-indent:24.0pt;background:#FAFAFA;border:none;padding:0cm'><span
class=com><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#880000'>/** Another interface we use on the service. */</span></span></pre><pre
style='text-indent:24.0pt;background:#FAFAFA;border:none;padding:0cm'><span
class=typ><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#660066'>ISecondary</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> mSecondaryService </span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>=</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> </span></span><span
class=kwd><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#000088'>null</span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>;</span></span></pre><pre
style='text-indent:24.0pt;background:#FAFAFA;border:none;padding:0cm'><span
class=typ><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#660066'>Button</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> mKillButton</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>;</span></span></pre><pre style='text-indent:24.0pt;background:
#FAFAFA;border:none;padding:0cm'><span class=typ><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:#660066'>TextView</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> mCallbackText</span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>;</span></span></pre><pre
style='text-indent:24.0pt;background:#FAFAFA;border:none;padding:0cm'><span
class=kwd><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#000088'>private</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> </span></span><span
class=kwd><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#000088'>boolean</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> mIsBound</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>;</span></span></pre><pre style='text-indent:24.0pt;background:
#FAFAFA;border:none;padding:0cm'><span class=com><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:#880000'>/**</span></span></pre><pre
style='text-indent:24.0pt;background:#FAFAFA;border:none;padding:0cm'><span
class=com><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#880000'>* Standard initialization of this activity. &nbsp;Set up the UI, then wait</span></span></pre><pre
style='text-indent:24.0pt;background:#FAFAFA;border:none;padding:0cm'><span
class=com><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#880000'>* for the user to poke it before doing anything.</span></span></pre><pre
style='text-indent:24.0pt;background:#FAFAFA;border:none;padding:0cm'><span
class=com><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#880000'>*/</span></span></pre><pre style='text-indent:24.0pt;background:
#FAFAFA;border:none;padding:0cm'><span class=lit><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:#006666'>@Override</span></span></pre><pre
style='text-indent:24.0pt;background:#FAFAFA;border:none;padding:0cm'><span
class=kwd><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#000088'>protected</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> </span></span><span
class=kwd><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#000088'>void</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> onCreate</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>(</span></span><span class=typ><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:#660066'>Bundle</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> savedInstanceState</span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>)</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> </span></span><span class=pun><span style='font-family:
"Calibri","sans-serif";color:#666600'>{</span></span></pre><pre
style='text-indent:24.0pt;background:#FAFAFA;border:none;padding:0cm'><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>&nbsp; &nbsp; </span></span><span class=kwd><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:#000088'>super</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>.</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>onCreate</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>(</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>savedInstanceState</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>);</span></span></pre><pre style='text-indent:24.0pt;background:
#FAFAFA;border:none;padding:0cm'><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>&nbsp; &nbsp; setContentView</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>(</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>R</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>.</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>layout</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>.</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>remote_service_binding</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>);</span></span></pre><pre style='text-indent:24.0pt;background:
#FAFAFA;border:none;padding:0cm'><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>&nbsp; &nbsp; </span></span><span
class=com><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#880000'>// Watch for button clicks.</span></span></pre><pre
style='text-indent:24.0pt;background:#FAFAFA;border:none;padding:0cm'><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>&nbsp; &nbsp; </span></span><span class=typ><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:#660066'>Button</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> button </span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>=</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> </span></span><span class=pun><span style='font-family:
"Calibri","sans-serif";color:#666600'>(</span></span><span class=typ><span
lang=EN-US style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#660066'>Button</span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>)</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>findViewById</span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>(</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>R</span></span><span class=pun><span style='font-family:
"Calibri","sans-serif";color:#666600'>.</span></span><span class=pln><span
lang=EN-US style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>id</span></span><span class=pun><span style='font-family:
"Calibri","sans-serif";color:#666600'>.</span></span><span class=pln><span
lang=EN-US style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>bind</span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>);</span></span></pre><pre
style='text-indent:24.0pt;background:#FAFAFA;border:none;padding:0cm'><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>&nbsp; &nbsp; button</span></span><span class=pun><span
lang=EN-US style='font-family:"Calibri","sans-serif";color:#666600'>.</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>setOnClickListener</span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>(</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>mBindListener</span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>);</span></span></pre><pre
style='text-indent:24.0pt;background:#FAFAFA;border:none;padding:0cm'><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>&nbsp; &nbsp; button </span></span><span class=pun><span
lang=EN-US style='font-family:"Calibri","sans-serif";color:#666600'>=</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> </span></span><span class=pun><span style='font-family:
"Calibri","sans-serif";color:#666600'>(</span></span><span class=typ><span
lang=EN-US style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#660066'>Button</span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>)</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>findViewById</span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>(</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>R</span></span><span class=pun><span style='font-family:
"Calibri","sans-serif";color:#666600'>.</span></span><span class=pln><span
lang=EN-US style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>id</span></span><span class=pun><span style='font-family:
"Calibri","sans-serif";color:#666600'>.</span></span><span class=pln><span
lang=EN-US style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>unbind</span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>);</span></span></pre><pre
style='text-indent:24.0pt;background:#FAFAFA;border:none;padding:0cm'><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>&nbsp; &nbsp; button</span></span><span class=pun><span
lang=EN-US style='font-family:"Calibri","sans-serif";color:#666600'>.</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>setOnClickListener</span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>(</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>mUnbindListener</span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>);</span></span></pre><pre
style='text-indent:24.0pt;background:#FAFAFA;border:none;padding:0cm'><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>&nbsp; &nbsp; mKillButton </span></span><span class=pun><span
lang=EN-US style='font-family:"Calibri","sans-serif";color:#666600'>=</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> </span></span><span class=pun><span style='font-family:
"Calibri","sans-serif";color:#666600'>(</span></span><span class=typ><span
lang=EN-US style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#660066'>Button</span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>)</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>findViewById</span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>(</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>R</span></span><span class=pun><span style='font-family:
"Calibri","sans-serif";color:#666600'>.</span></span><span class=pln><span
lang=EN-US style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>id</span></span><span class=pun><span style='font-family:
"Calibri","sans-serif";color:#666600'>.</span></span><span class=pln><span
lang=EN-US style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>kill</span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>);</span></span></pre><pre
style='text-indent:24.0pt;background:#FAFAFA;border:none;padding:0cm'><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>&nbsp; &nbsp; mKillButton</span></span><span class=pun><span
lang=EN-US style='font-family:"Calibri","sans-serif";color:#666600'>.</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>setOnClickListener</span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>(</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>mKillListener</span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>);</span></span></pre><pre
style='text-indent:24.0pt;background:#FAFAFA;border:none;padding:0cm'><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>&nbsp; &nbsp; mKillButton</span></span><span class=pun><span
lang=EN-US style='font-family:"Calibri","sans-serif";color:#666600'>.</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>setEnabled</span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>(</span></span><span
class=kwd><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#000088'>false</span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>); </span></span></pre><pre
style='text-indent:24.0pt;background:#FAFAFA;border:none;padding:0cm'><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>&nbsp;</span></span></pre><pre style='text-indent:24.0pt;
background:#FAFAFA;border:none;padding:0cm'><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>&nbsp; &nbsp; mCallbackText </span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>=</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> </span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>(</span></span><span class=typ><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:#660066'>TextView</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>)</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>findViewById</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>(</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>R</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>.</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>id</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>.</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>callback</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>);</span></span></pre><pre style='text-indent:24.0pt;background:
#FAFAFA;border:none;padding:0cm'><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>&nbsp; &nbsp;mCallbackText</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>.</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>setText</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>(</span></span><span class=str><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:#008800'>&quot;Not attached.&quot;</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>);</span></span></pre><pre style='text-indent:24.0pt;background:
#FAFAFA;border:none;padding:0cm'><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>}</span></span></pre><pre
style='text-indent:24.0pt;background:#FAFAFA;border:none;padding:0cm'><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>&nbsp;</span></span></pre><pre style='text-indent:24.0pt;
background:#FAFAFA;border:none;padding:0cm'><span class=com><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:#880000'>/**</span></span></pre><pre
style='text-indent:24.0pt;background:#FAFAFA;border:none;padding:0cm'><span
class=com><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#880000'>&nbsp; * Class for interacting with the main interface of the service.</span></span></pre><pre
style='text-indent:24.0pt;background:#FAFAFA;border:none;padding:0cm'><span
class=com><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#880000'>&nbsp; */</span></span></pre><pre style='text-indent:24.0pt;
background:#FAFAFA;border:none;padding:0cm'><span class=kwd><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:#000088'>private</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> </span></span><span class=typ><span style='font-size:
10.5pt;font-family:"Calibri","sans-serif";color:#660066'>ServiceConnection</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> mConnection </span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>=</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> </span></span><span class=kwd><span style='font-size:
10.5pt;font-family:"Calibri","sans-serif";color:#000088'>new</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> </span></span><span class=typ><span style='font-size:
10.5pt;font-family:"Calibri","sans-serif";color:#660066'>ServiceConnection</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>()</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> </span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>{</span></span></pre><pre style='text-indent:24.0pt;background:
#FAFAFA;border:none;padding:0cm'><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>&nbsp; &nbsp;</span></span><span
class=kwd><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#000088'>public</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> </span></span><span
class=kwd><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#000088'>void</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> onServiceConnected</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>(</span></span><span class=typ><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:#660066'>ComponentName</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> className</span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>,</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> </span></span><span class=typ><span style='font-size:
10.5pt;font-family:"Calibri","sans-serif";color:#660066'>IBinder</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> service</span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>)</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> </span></span><span class=pun><span style='font-family:
"Calibri","sans-serif";color:#666600'>{</span></span></pre><pre
style='text-indent:24.0pt;background:#FAFAFA;border:none;padding:0cm'><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>&nbsp; &nbsp; &nbsp; &nbsp; </span></span><span class=com><span
lang=EN-US style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#880000'>// This is called when the connection with the service has been</span></span></pre><pre
style='text-indent:24.0pt;background:#FAFAFA;border:none;padding:0cm'><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>&nbsp; &nbsp; &nbsp; &nbsp; </span></span><span class=com><span
lang=EN-US style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#880000'>// established, giving us the service object we can use to</span></span></pre><pre
style='text-indent:24.0pt;background:#FAFAFA;border:none;padding:0cm'><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>&nbsp; &nbsp; &nbsp; &nbsp; </span></span><span class=com><span
lang=EN-US style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#880000'>// interact with the service. &nbsp;We are communicating with our</span></span></pre><pre
style='text-indent:24.0pt;background:#FAFAFA;border:none;padding:0cm'><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>&nbsp; &nbsp; &nbsp; &nbsp; </span></span><span class=com><span
lang=EN-US style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#880000'>// service through an IDL interface, so get a client-side</span></span></pre><pre
style='text-indent:24.0pt;background:#FAFAFA;border:none;padding:0cm'><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>&nbsp; &nbsp; &nbsp; &nbsp; </span></span><span class=com><span
lang=EN-US style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#880000'>// representation of that from the raw service object.</span></span></pre><pre
style='text-indent:24.0pt;background:#FAFAFA;border:none;padding:0cm'><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>&nbsp; &nbsp; &nbsp; &nbsp; mService </span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>=</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> </span></span><span
class=typ><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#660066'>IRemoteService</span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>.</span></span><span
class=typ><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#660066'>Stub</span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>.</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>asInterface</span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>(</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>service</span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>);</span></span></pre><pre
style='text-indent:24.0pt;background:#FAFAFA;border:none;padding:0cm'><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>&nbsp; &nbsp; &nbsp; &nbsp; mKillButton</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>.</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>setEnabled</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>(</span></span><span class=kwd><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:#000088'>true</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>);</span></span></pre><pre style='text-indent:24.0pt;background:
#FAFAFA;border:none;padding:0cm'><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>&nbsp; &nbsp; &nbsp; &nbsp; mCallbackText</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>.</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>setText</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>(</span></span><span class=str><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:#008800'>&quot;Attached.&quot;</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>);</span></span></pre><pre style='text-indent:24.0pt;background:
#FAFAFA;border:none;padding:0cm'><span style='font-size:10.5pt;
font-family:"Calibri","sans-serif";color:black'> </span></pre><pre
style='text-indent:24.0pt;background:#FAFAFA;border:none;padding:0cm'><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>&nbsp; &nbsp; &nbsp; &nbsp; </span></span><span class=com><span
lang=EN-US style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#880000'>// We want to monitor the service for as long as we are</span></span></pre><pre
style='text-indent:24.0pt;background:#FAFAFA;border:none;padding:0cm'><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>&nbsp; &nbsp; &nbsp; &nbsp; </span></span><span class=com><span
lang=EN-US style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#880000'>// connected to it.</span></span></pre><pre style='text-indent:
24.0pt;background:#FAFAFA;border:none;padding:0cm'><span class=pln><span
lang=EN-US style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>&nbsp; &nbsp; &nbsp; &nbsp; </span></span><span class=kwd><span
lang=EN-US style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#000088'>try</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> </span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>{</span></span></pre><pre style='text-indent:24.0pt;background:
#FAFAFA;border:none;padding:0cm'><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; mService</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>.</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>registerCallback</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>(</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>mCallback</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>);</span></span></pre><pre style='text-indent:24.0pt;background:
#FAFAFA;border:none;padding:0cm'><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>&nbsp; &nbsp; &nbsp; &nbsp; </span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>}</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> </span></span><span
class=kwd><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#000088'>catch</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> </span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>(</span></span><span class=typ><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:#660066'>RemoteException</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> e</span></span><span class=pun><span style='font-family:
"Calibri","sans-serif";color:#666600'>)</span></span><span class=pln><span
lang=EN-US style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> </span></span><span class=pun><span style='font-family:
"Calibri","sans-serif";color:#666600'>{</span></span></pre><pre
style='text-indent:24.0pt;background:#FAFAFA;border:none;padding:0cm'><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span></span><span
class=com><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#880000'>// In this case the service has crashed before we could even</span></span></pre><pre
style='text-indent:24.0pt;background:#FAFAFA;border:none;padding:0cm'><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span></span><span
class=com><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#880000'>// do anything with it; we can count on soon being</span></span></pre><pre
style='text-indent:24.0pt;background:#FAFAFA;border:none;padding:0cm'><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span></span><span
class=com><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#880000'>// disconnected (and then reconnected if it can be restarted)</span></span></pre><pre
style='text-indent:24.0pt;background:#FAFAFA;border:none;padding:0cm'><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span></span><span
class=com><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#880000'>// so there is no need to do anything here.</span></span></pre><pre
style='text-indent:24.0pt;background:#FAFAFA;border:none;padding:0cm'><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>&nbsp; &nbsp; &nbsp; &nbsp; </span></span><span class=pun><span
lang=EN-US style='font-family:"Calibri","sans-serif";color:#666600'>}</span></span></pre><pre
style='text-indent:24.0pt;background:#FAFAFA;border:none;padding:0cm'><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>&nbsp;</span></span></pre><pre style='text-indent:24.0pt;
background:#FAFAFA;border:none;padding:0cm'><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>&nbsp; &nbsp; &nbsp; &nbsp;</span></span><span
class=com><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#880000'>// As part of the sample, tell the user what happened.</span></span></pre><pre
style='text-indent:24.0pt;background:#FAFAFA;border:none;padding:0cm'><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>&nbsp; &nbsp; &nbsp; &nbsp;</span></span><span class=typ><span
lang=EN-US style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#660066'>Toast</span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>.</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>makeText</span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>(</span></span><span
class=typ><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#660066'>Binding</span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>.</span></span><span
class=kwd><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#000088'>this</span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>,</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> R</span></span><span class=pun><span style='font-family:
"Calibri","sans-serif";color:#666600'>.</span></span><span class=kwd><span
lang=EN-US style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#000088'>string</span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>.</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>remote_service_connected</span></span><span class=pun><span
lang=EN-US style='font-family:"Calibri","sans-serif";color:#666600'>,</span></span></pre><pre
style='text-indent:24.0pt;background:#FAFAFA;border:none;padding:0cm'><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span></span><span
class=typ><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#660066'>Toast</span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>.</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>LENGTH_SHORT</span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>).</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>show</span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>();</span></span></pre><pre
style='text-indent:24.0pt;background:#FAFAFA;border:none;padding:0cm'><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>&nbsp; &nbsp; </span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>}</span></span></pre><pre
style='text-indent:24.0pt;background:#FAFAFA;border:none;padding:0cm'><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>&nbsp;</span></span></pre><pre style='text-indent:24.0pt;
background:#FAFAFA;border:none;padding:0cm'><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>&nbsp; &nbsp; </span></span><span
class=kwd><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#000088'>public</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> </span></span><span
class=kwd><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#000088'>void</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> onServiceDisconnected</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>(</span></span><span class=typ><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:#660066'>ComponentName</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> className</span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>)</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> </span></span><span class=pun><span style='font-family:
"Calibri","sans-serif";color:#666600'>{</span></span></pre><pre
style='text-indent:24.0pt;background:#FAFAFA;border:none;padding:0cm'><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>&nbsp; &nbsp; &nbsp; &nbsp; </span></span><span class=com><span
lang=EN-US style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#880000'>// This is called when the connection with the service has been</span></span></pre><pre
style='text-indent:24.0pt;background:#FAFAFA;border:none;padding:0cm'><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>&nbsp; &nbsp; &nbsp; &nbsp; </span></span><span class=com><span
lang=EN-US style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#880000'>// unexpectedly disconnected -- that is, its process crashed.</span></span></pre><pre
style='text-indent:24.0pt;background:#FAFAFA;border:none;padding:0cm'><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>&nbsp; &nbsp; &nbsp; &nbsp; mService </span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>=</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> </span></span><span
class=kwd><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#000088'>null</span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>;</span></span></pre><pre
style='text-indent:24.0pt;background:#FAFAFA;border:none;padding:0cm'><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>&nbsp; &nbsp; &nbsp; &nbsp; mKillButton</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>.</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>setEnabled</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>(</span></span><span class=kwd><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:#000088'>false</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>);</span></span></pre><pre style='text-indent:24.0pt;background:
#FAFAFA;border:none;padding:0cm'><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>&nbsp; &nbsp; &nbsp; &nbsp; mCallbackText</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>.</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>setText</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>(</span></span><span class=str><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:#008800'>&quot;Disconnected.&quot;</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>);</span></span></pre><pre style='text-indent:24.0pt;background:
#FAFAFA;border:none;padding:0cm'><span style='font-size:10.5pt;
font-family:"Calibri","sans-serif";color:black'>&nbsp;</span></pre><pre
style='text-indent:24.0pt;background:#FAFAFA;border:none;padding:0cm'><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>&nbsp; &nbsp; &nbsp; &nbsp; </span></span><span class=com><span
lang=EN-US style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#880000'>// As part of the sample, tell the user what happened.</span></span></pre><pre
style='text-indent:24.0pt;background:#FAFAFA;border:none;padding:0cm'><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>&nbsp; &nbsp; &nbsp; &nbsp; </span></span><span class=typ><span
lang=EN-US style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#660066'>Toast</span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>.</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>makeText</span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>(</span></span><span
class=typ><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#660066'>Binding</span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>.</span></span><span
class=kwd><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#000088'>this</span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>,</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> R</span></span><span class=pun><span style='font-family:
"Calibri","sans-serif";color:#666600'>.</span></span><span class=kwd><span
lang=EN-US style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#000088'>string</span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>.</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>remote_service_disconnected</span></span><span class=pun><span
lang=EN-US style='font-family:"Calibri","sans-serif";color:#666600'>,</span></span></pre><pre
style='text-indent:24.0pt;background:#FAFAFA;border:none;padding:0cm'><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span></span><span
class=typ><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#660066'>Toast</span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>.</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>LENGTH_SHORT</span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>).</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>show</span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>();</span></span></pre><pre
style='text-indent:24.0pt;background:#FAFAFA;border:none;padding:0cm'><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>&nbsp; &nbsp; </span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>}</span></span></pre><pre
style='text-indent:24.0pt;background:#FAFAFA;border:none;padding:0cm'><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>};</span></span></pre><pre style='text-indent:24.0pt;background:
#FAFAFA;border:none;padding:0cm'><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>&nbsp;</span></span></pre><pre
style='text-indent:24.0pt;background:#FAFAFA;border:none;padding:0cm'><span
class=com><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#880000'>/**</span></span></pre><pre style='text-indent:24.0pt;
background:#FAFAFA;border:none;padding:0cm'><span class=com><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:#880000'>&nbsp; * Class for interacting with the secondary interface of the service.</span></span></pre><pre
style='text-indent:24.0pt;background:#FAFAFA;border:none;padding:0cm'><span
class=com><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#880000'>&nbsp; */</span></span></pre><pre style='text-indent:24.0pt;
background:#FAFAFA;border:none;padding:0cm'><span class=kwd><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:#000088'>private</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> </span></span><span class=typ><span style='font-size:
10.5pt;font-family:"Calibri","sans-serif";color:#660066'>ServiceConnection</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> mSecondaryConnection </span></span><span class=pun><span
lang=EN-US style='font-family:"Calibri","sans-serif";color:#666600'>=</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> </span></span><span class=kwd><span style='font-size:
10.5pt;font-family:"Calibri","sans-serif";color:#000088'>new</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> </span></span><span class=typ><span style='font-size:
10.5pt;font-family:"Calibri","sans-serif";color:#660066'>ServiceConnection</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>()</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> </span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>{</span></span></pre><pre style='text-indent:24.0pt;background:
#FAFAFA;border:none;padding:0cm'><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>&nbsp; &nbsp;</span></span><span
class=kwd><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#000088'>public</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> </span></span><span
class=kwd><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#000088'>void</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> onServiceConnected</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>(</span></span><span class=typ><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:#660066'>ComponentName</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> className</span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>,</span></span><span
class=typ><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#660066'> IBinder</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> service</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>)</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> </span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>{</span></span></pre><pre style='text-indent:24.0pt;background:
#FAFAFA;border:none;padding:0cm'><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>&nbsp; &nbsp; &nbsp; &nbsp; </span></span><span
class=com><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#880000'>// Connecting to a secondary interface is the same as any</span></span></pre><pre
style='text-indent:24.0pt;background:#FAFAFA;border:none;padding:0cm'><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>&nbsp; &nbsp; &nbsp; &nbsp; </span></span><span class=com><span
lang=EN-US style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#880000'>// other interface.</span></span></pre><pre style='text-indent:
24.0pt;background:#FAFAFA;border:none;padding:0cm'><span class=pln><span
lang=EN-US style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>&nbsp; &nbsp; &nbsp; &nbsp; mSecondaryService </span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>=</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> </span></span><span
class=typ><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#660066'>ISecondary</span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>.</span></span><span
class=typ><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#660066'>Stub</span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>.</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>asInterface</span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>(</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>service</span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>);</span></span></pre><pre
style='text-indent:24.0pt;background:#FAFAFA;border:none;padding:0cm'><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>&nbsp; &nbsp; &nbsp; &nbsp; mKillButton</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>.</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>setEnabled</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>(</span></span><span class=kwd><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:#000088'>true</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>);</span></span></pre><pre style='text-indent:24.0pt;background:
#FAFAFA;border:none;padding:0cm'><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>&nbsp; &nbsp; </span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>}</span></span></pre><pre style='text-indent:24.0pt;background:
#FAFAFA;border:none;padding:0cm'><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>&nbsp;</span></span></pre><pre
style='text-indent:24.0pt;background:#FAFAFA;border:none;padding:0cm'><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>&nbsp; &nbsp; </span></span><span class=kwd><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:#000088'>public</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> </span></span><span class=kwd><span style='font-size:
10.5pt;font-family:"Calibri","sans-serif";color:#000088'>void</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> onServiceDisconnected</span></span><span class=pun><span
lang=EN-US style='font-family:"Calibri","sans-serif";color:#666600'>(</span></span><span
class=typ><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#660066'>ComponentName</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> className</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>)</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> </span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>{</span></span></pre><pre style='text-indent:24.0pt;background:
#FAFAFA;border:none;padding:0cm'><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>&nbsp; &nbsp; &nbsp; &nbsp; mSecondaryService </span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>=</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> </span></span><span
class=kwd><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#000088'>null</span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>;</span></span></pre><pre
style='text-indent:24.0pt;background:#FAFAFA;border:none;padding:0cm'><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>&nbsp; &nbsp; &nbsp; &nbsp; mKillButton</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>.</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>setEnabled</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>(</span></span><span class=kwd><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:#000088'>false</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>);</span></span></pre><pre style='text-indent:24.0pt;background:
#FAFAFA;border:none;padding:0cm'><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>&nbsp; &nbsp; </span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>}</span></span></pre><pre style='text-indent:24.0pt;background:
#FAFAFA;border:none;padding:0cm'><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>};</span></span></pre><pre
style='text-indent:24.0pt;background:#FAFAFA;border:none;padding:0cm'><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>&nbsp;</span></span></pre><pre style='text-indent:24.0pt;
background:#FAFAFA;border:none;padding:0cm'><span class=kwd><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:#000088'>private</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> </span></span><span class=typ><span style='font-size:
10.5pt;font-family:"Calibri","sans-serif";color:#660066'>OnClickListener</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> mBindListener </span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>=</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> </span></span><span class=kwd><span style='font-size:
10.5pt;font-family:"Calibri","sans-serif";color:#000088'>new</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> </span></span><span class=typ><span style='font-size:
10.5pt;font-family:"Calibri","sans-serif";color:#660066'>OnClickListener</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>()</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> </span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>{</span></span></pre><pre style='text-indent:24.0pt;background:
#FAFAFA;border:none;padding:0cm'><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>&nbsp; &nbsp;</span></span><span
class=kwd><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#000088'>public</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> </span></span><span
class=kwd><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#000088'>void</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> onClick</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>(</span></span><span class=typ><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:#660066'>View</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> v</span></span><span class=pun><span style='font-family:
"Calibri","sans-serif";color:#666600'>)</span></span><span class=pln><span
lang=EN-US style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> </span></span><span class=pun><span style='font-family:
"Calibri","sans-serif";color:#666600'>{</span></span></pre><pre
style='text-indent:24.0pt;background:#FAFAFA;border:none;padding:0cm'><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>&nbsp; &nbsp; &nbsp; &nbsp; </span></span><span class=com><span
lang=EN-US style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#880000'>// Establish a couple connections with the service, binding</span></span></pre><pre
style='text-indent:24.0pt;background:#FAFAFA;border:none;padding:0cm'><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>&nbsp; &nbsp; &nbsp; &nbsp; </span></span><span class=com><span
lang=EN-US style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#880000'>// by interface names. &nbsp;This allows other applications to be</span></span></pre><pre
style='text-indent:24.0pt;background:#FAFAFA;border:none;padding:0cm'><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>&nbsp; &nbsp; &nbsp; &nbsp; </span></span><span class=com><span
lang=EN-US style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#880000'>// installed that replace the remote service by implementing</span></span></pre><pre
style='text-indent:24.0pt;background:#FAFAFA;border:none;padding:0cm'><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>&nbsp; &nbsp; &nbsp; &nbsp; </span></span><span class=com><span
lang=EN-US style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#880000'>// the same interface.</span></span></pre><pre style='text-indent:
24.0pt;background:#FAFAFA;border:none;padding:0cm'><span class=pln><span
lang=EN-US style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>&nbsp; &nbsp; &nbsp; &nbsp;bindService</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>(</span></span><span class=kwd><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:#000088'>new</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> </span></span><span class=typ><span style='font-size:
10.5pt;font-family:"Calibri","sans-serif";color:#660066'>Intent</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>(</span></span><span class=typ><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:#660066'>IRemoteService</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>.</span></span><span class=kwd><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:#000088'>class</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>.</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>getName</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>()),</span></span></pre><pre style='text-indent:24.0pt;
background:#FAFAFA;border:none;padding:0cm'><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; mConnection</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>,</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> </span></span><span
class=typ><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#660066'>Context</span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>.</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>BIND_AUTO_CREATE</span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>);</span></span></pre><pre
style='text-indent:24.0pt;background:#FAFAFA;border:none;padding:0cm'><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; bindService</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>(</span></span><span class=kwd><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:#000088'>new</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> </span></span><span class=typ><span style='font-size:
10.5pt;font-family:"Calibri","sans-serif";color:#660066'>Intent</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>(</span></span><span class=typ><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:#660066'>ISecondary</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>.</span></span><span class=kwd><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:#000088'>class</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>.</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>getName</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>()),</span></span></pre><pre style='text-indent:24.0pt;
background:#FAFAFA;border:none;padding:0cm'><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;mSecondaryConnection</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>,</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> </span></span><span
class=typ><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#660066'>Context</span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>.</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>BIND_AUTO_CREATE</span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>);</span></span></pre><pre
style='text-indent:24.0pt;background:#FAFAFA;border:none;padding:0cm'><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; mIsBound </span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>=</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> </span></span><span
class=kwd><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#000088'>true</span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>;</span></span></pre><pre
style='text-indent:24.0pt;background:#FAFAFA;border:none;padding:0cm'><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; mCallbackText</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>.</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>setText</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>(</span></span><span class=str><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:#008800'>&quot;Binding.&quot;</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>);</span></span></pre><pre style='text-indent:24.0pt;background:
#FAFAFA;border:none;padding:0cm'><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>&nbsp; &nbsp; </span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>}</span></span></pre><pre style='text-indent:24.0pt;background:
#FAFAFA;border:none;padding:0cm'><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>};</span></span></pre><pre
style='text-indent:24.0pt;background:#FAFAFA;border:none;padding:0cm'><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>&nbsp;</span></span></pre><pre style='text-indent:24.0pt;
background:#FAFAFA;border:none;padding:0cm'><span class=kwd><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:#000088'>private</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> </span></span><span class=typ><span style='font-size:
10.5pt;font-family:"Calibri","sans-serif";color:#660066'>OnClickListener</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> mUnbindListener </span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>=</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> </span></span><span class=kwd><span style='font-size:
10.5pt;font-family:"Calibri","sans-serif";color:#000088'>new</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> </span></span><span class=typ><span style='font-size:
10.5pt;font-family:"Calibri","sans-serif";color:#660066'>OnClickListener</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>()</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> </span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>{</span></span></pre><pre style='text-indent:24.0pt;background:
#FAFAFA;border:none;padding:0cm'><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>&nbsp; &nbsp; </span></span><span
class=kwd><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#000088'>public</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> </span></span><span
class=kwd><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#000088'>void</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> onClick</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>(</span></span><span class=typ><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:#660066'>View</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> v</span></span><span class=pun><span style='font-family:
"Calibri","sans-serif";color:#666600'>)</span></span><span class=pln><span
lang=EN-US style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> </span></span><span class=pun><span style='font-family:
"Calibri","sans-serif";color:#666600'>{</span></span></pre><pre
style='text-indent:24.0pt;background:#FAFAFA;border:none;padding:0cm'><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>&nbsp; &nbsp; &nbsp; &nbsp;</span></span><span class=kwd><span
lang=EN-US style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#000088'>if</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> </span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>(</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>mIsBound</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>)</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> </span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>{</span></span></pre><pre style='text-indent:24.0pt;background:
#FAFAFA;border:none;padding:0cm'><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span></span><span
class=com><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#880000'>// If we have received the service, and hence registered with</span></span></pre><pre
style='text-indent:24.0pt;background:#FAFAFA;border:none;padding:0cm'><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span></span><span
class=com><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#880000'>// it, then now is the time to unregister.</span></span></pre><pre
style='text-indent:24.0pt;background:#FAFAFA;border:none;padding:0cm'><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span></span><span
class=kwd><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#000088'>if</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> </span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>(</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>mService </span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>!=</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> </span></span><span
class=kwd><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#000088'>null</span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>)</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> </span></span><span class=pun><span style='font-family:
"Calibri","sans-serif";color:#666600'>{</span></span></pre><pre
style='text-indent:24.0pt;background:#FAFAFA;border:none;padding:0cm'><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span></span><span
class=kwd><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#000088'>try</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> </span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>{</span></span></pre><pre style='text-indent:24.0pt;background:
#FAFAFA;border:none;padding:0cm'><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;mService</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>.</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>unregisterCallback</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>(</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>mCallback</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>);</span></span></pre><pre style='text-indent:24.0pt;background:
#FAFAFA;border:none;padding:0cm'><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>}</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> </span></span><span
class=kwd><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#000088'>catch</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> </span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>(</span></span><span class=typ><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:#660066'>RemoteException</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> e</span></span><span class=pun><span style='font-family:
"Calibri","sans-serif";color:#666600'>)</span></span><span class=pln><span
lang=EN-US style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> </span></span><span class=pun><span style='font-family:
"Calibri","sans-serif";color:#666600'>{</span></span></pre><pre
style='text-indent:24.0pt;background:#FAFAFA;border:none;padding:0cm'><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span></span><span
class=com><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#880000'>// There is nothing special we need to do if the service</span></span></pre><pre
style='text-indent:24.0pt;background:#FAFAFA;border:none;padding:0cm'><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span></span><span
class=com><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#880000'>// has crashed.</span></span></pre><pre style='text-indent:24.0pt;
background:#FAFAFA;border:none;padding:0cm'><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>}</span></span></pre><pre style='text-indent:24.0pt;background:
#FAFAFA;border:none;padding:0cm'><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>}</span></span></pre><pre style='text-indent:24.0pt;background:
#FAFAFA;border:none;padding:0cm'><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>&nbsp;</span></span></pre><pre
style='text-indent:24.0pt;background:#FAFAFA;border:none;padding:0cm'><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span></span><span
class=com><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#880000'>// Detach our existing connection.</span></span></pre><pre
style='text-indent:24.0pt;background:#FAFAFA;border:none;padding:0cm'><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; unbindService</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>(</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>mConnection</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>);</span></span></pre><pre style='text-indent:24.0pt;background:
#FAFAFA;border:none;padding:0cm'><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; unbindService</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>(</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>mSecondaryConnection</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>);</span></span></pre><pre style='text-indent:24.0pt;background:
#FAFAFA;border:none;padding:0cm'><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; mKillButton</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>.</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>setEnabled</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>(</span></span><span class=kwd><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:#000088'>false</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>);</span></span></pre><pre style='text-indent:24.0pt;background:
#FAFAFA;border:none;padding:0cm'><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; mIsBound </span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>=</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> </span></span><span
class=kwd><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#000088'>false</span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>;</span></span></pre><pre
style='text-indent:24.0pt;background:#FAFAFA;border:none;padding:0cm'><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; mCallbackText</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>.</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>setText</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>(</span></span><span class=str><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:#008800'>&quot;Unbinding.&quot;</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>);</span></span></pre><pre style='text-indent:24.0pt;background:
#FAFAFA;border:none;padding:0cm'><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>&nbsp; &nbsp; &nbsp; &nbsp;</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>}</span></span></pre><pre style='text-indent:24.0pt;background:
#FAFAFA;border:none;padding:0cm'><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>&nbsp; &nbsp;</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>}</span></span></pre><pre style='text-indent:24.0pt;background:
#FAFAFA;border:none;padding:0cm'><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>};</span></span></pre><pre
style='text-indent:24.0pt;background:#FAFAFA;border:none;padding:0cm'><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>&nbsp;</span></span></pre><pre style='text-indent:24.0pt;
background:#FAFAFA;border:none;padding:0cm'><span class=kwd><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:#000088'>private</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> </span></span><span class=typ><span style='font-size:
10.5pt;font-family:"Calibri","sans-serif";color:#660066'>OnClickListener</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> mKillListener </span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>=</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> </span></span><span class=kwd><span style='font-size:
10.5pt;font-family:"Calibri","sans-serif";color:#000088'>new</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> </span></span><span class=typ><span style='font-size:
10.5pt;font-family:"Calibri","sans-serif";color:#660066'>OnClickListener</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>()</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> </span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>{</span></span></pre><pre style='text-indent:24.0pt;background:
#FAFAFA;border:none;padding:0cm'><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>&nbsp; &nbsp; </span></span><span
class=kwd><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#000088'>public</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> </span></span><span
class=kwd><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#000088'>void</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> onClick</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>(</span></span><span class=typ><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:#660066'>View</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> v</span></span><span class=pun><span style='font-family:
"Calibri","sans-serif";color:#666600'>)</span></span><span class=pln><span
lang=EN-US style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> </span></span><span class=pun><span style='font-family:
"Calibri","sans-serif";color:#666600'>{</span></span></pre><pre
style='text-indent:24.0pt;background:#FAFAFA;border:none;padding:0cm'><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span></span><span class=com><span
lang=EN-US style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#880000'>// To kill the process hosting our service, we need to know its</span></span></pre><pre
style='text-indent:24.0pt;background:#FAFAFA;border:none;padding:0cm'><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span></span><span class=com><span
lang=EN-US style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#880000'>// PID. &nbsp;Conveniently our service has a call that will return</span></span></pre><pre
style='text-indent:24.0pt;background:#FAFAFA;border:none;padding:0cm'><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span></span><span class=com><span
lang=EN-US style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#880000'>// to us that information.</span></span></pre><pre
style='text-indent:24.0pt;background:#FAFAFA;border:none;padding:0cm'><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span></span><span class=kwd><span
lang=EN-US style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#000088'>if</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> </span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>(</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>mSecondaryService </span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>!=</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> </span></span><span
class=kwd><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#000088'>null</span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>)</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> </span></span><span class=pun><span style='font-family:
"Calibri","sans-serif";color:#666600'>{</span></span></pre><pre
style='text-indent:24.0pt;background:#FAFAFA;border:none;padding:0cm'><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span></span><span
class=kwd><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#000088'>try</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> </span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>{</span></span></pre><pre style='text-indent:24.0pt;background:
#FAFAFA;border:none;padding:0cm'><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span></span><span
class=kwd><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#000088'>int</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> pid </span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>=</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> mSecondaryService</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>.</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>getPid</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>();</span></span></pre><pre style='text-indent:24.0pt;
background:#FAFAFA;border:none;padding:0cm'><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span></span><span
class=com><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#880000'>// Note that, though this API allows us to request to</span></span></pre><pre
style='text-indent:24.0pt;background:#FAFAFA;border:none;padding:0cm'><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span></span><span
class=com><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#880000'>// kill any process based on its PID, the kernel will</span></span></pre><pre
style='text-indent:24.0pt;background:#FAFAFA;border:none;padding:0cm'><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span></span><span
class=com><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#880000'>// still impose standard restrictions on which PIDs you</span></span></pre><pre
style='text-indent:24.0pt;background:#FAFAFA;border:none;padding:0cm'><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span></span><span
class=com><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#880000'>// are actually able to kill. &nbsp;Typically this means only</span></span></pre><pre
style='text-indent:24.0pt;background:#FAFAFA;border:none;padding:0cm'><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span></span><span
class=com><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#880000'>// the process running your application and any additional</span></span></pre><pre
style='text-indent:24.0pt;background:#FAFAFA;border:none;padding:0cm'><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span></span><span
class=com><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#880000'>// processes created by that app as shown here; packages</span></span></pre><pre
style='text-indent:24.0pt;background:#FAFAFA;border:none;padding:0cm'><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span></span><span
class=com><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#880000'>// sharing a common UID will also be able to kill each</span></span></pre><pre
style='text-indent:24.0pt;background:#FAFAFA;border:none;padding:0cm'><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span></span><span
class=com><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#880000'>// other's processes.</span></span></pre><pre style='text-indent:
24.0pt;background:#FAFAFA;border:none;padding:0cm'><span class=pln><span
lang=EN-US style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span></span><span
class=typ><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#660066'>Process</span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>.</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>killProcess</span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>(</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>pid</span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>);</span></span><span
lang=EN-US style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'><br>
<span class=pln>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; mCallbackText</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>.</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>setText</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>(</span></span><span class=str><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:#008800'>&quot;Killed service process.&quot;</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>);</span></span></pre><pre style='text-indent:24.0pt;background:
#FAFAFA;border:none;padding:0cm'><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>}</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> </span></span><span
class=kwd><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#000088'>catch</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> </span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>(</span></span><span class=typ><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:#660066'>RemoteException</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> ex</span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>)</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> </span></span><span class=pun><span style='font-family:
"Calibri","sans-serif";color:#666600'>{</span></span></pre><pre
style='text-indent:24.0pt;background:#FAFAFA;border:none;padding:0cm'><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span></span><span
class=com><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#880000'>// Recover gracefully from the process hosting the</span></span></pre><pre
style='text-indent:24.0pt;background:#FAFAFA;border:none;padding:0cm'><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span></span><span
class=com><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#880000'>// server dying.</span></span></pre><pre style='text-indent:
24.0pt;background:#FAFAFA;border:none;padding:0cm'><span class=pln><span
lang=EN-US style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span></span><span
class=com><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#880000'>// Just for purposes of the sample, put up a notification.</span></span></pre><pre
style='text-indent:24.0pt;background:#FAFAFA;border:none;padding:0cm'><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span></span><span
class=typ><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#660066'>Toast</span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>.</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>makeText</span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>(</span></span><span
class=typ><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#660066'>Binding</span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>.</span></span><span
class=kwd><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#000088'>this</span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>,</span></span></pre><pre
style='text-indent:24.0pt;background:#FAFAFA;border:none;padding:0cm'><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;R</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>.</span></span><span class=kwd><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:#000088'>string</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>.</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>remote_call_failed</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>,</span></span></pre><pre style='text-indent:24.0pt;background:
#FAFAFA;border:none;padding:0cm'><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span></span><span
class=typ><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#660066'>Toast</span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>.</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>LENGTH_SHORT</span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>).</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>show</span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>();</span></span></pre><pre
style='text-indent:24.0pt;background:#FAFAFA;border:none;padding:0cm'><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>}</span></span></pre><pre style='text-indent:24.0pt;background:
#FAFAFA;border:none;padding:0cm'><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>}</span></span></pre><pre style='text-indent:24.0pt;background:
#FAFAFA;border:none;padding:0cm'><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>&nbsp; &nbsp; &nbsp; &nbsp; </span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>}</span></span></pre><pre style='text-indent:24.0pt;background:
#FAFAFA;border:none;padding:0cm'><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>&nbsp; &nbsp; </span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>};</span></span></pre><pre style='text-indent:24.0pt;background:
#FAFAFA;border:none;padding:0cm'><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>&nbsp;</span></span></pre><pre
style='text-indent:24.0pt;background:#FAFAFA;border:none;padding:0cm'><span
class=com><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#880000'>// ----------------------------------------------------------------------</span></span></pre><pre
style='text-indent:24.0pt;background:#FAFAFA;border:none;padding:0cm'><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>&nbsp;</span></span><span class=com><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:#880000'>// Code showing how to deal with callbacks.</span></span></pre><pre
style='text-indent:24.0pt;background:#FAFAFA;border:none;padding:0cm'><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>&nbsp;</span></span><span class=com><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:#880000'>// ----------------------------------------------------------------------</span></span></pre><pre
style='text-indent:24.0pt;background:#FAFAFA;border:none;padding:0cm'><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>&nbsp;</span></span></pre><pre style='text-indent:24.0pt;
background:#FAFAFA;border:none;padding:0cm'><span class=com><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:#880000'>/**</span></span></pre><pre
style='text-indent:24.0pt;background:#FAFAFA;border:none;padding:0cm'><span
class=com><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#880000'>&nbsp; * This implementation is used to receive callbacks from the remote</span></span></pre><pre
style='text-indent:24.0pt;background:#FAFAFA;border:none;padding:0cm'><span
class=com><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#880000'>&nbsp; * service.</span></span></pre><pre style='text-indent:
24.0pt;background:#FAFAFA;border:none;padding:0cm'><span class=com><span
lang=EN-US style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#880000'>*/</span></span></pre><pre style='text-indent:24.0pt;background:
#FAFAFA;border:none;padding:0cm'><span class=kwd><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:#000088'>private</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> </span></span><span class=typ><span style='font-size:
10.5pt;font-family:"Calibri","sans-serif";color:#660066'>IRemoteServiceCallback</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> mCallback </span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>=</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> </span></span><span class=kwd><span style='font-size:
10.5pt;font-family:"Calibri","sans-serif";color:#000088'>new</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> </span></span><span class=typ><span style='font-size:
10.5pt;font-family:"Calibri","sans-serif";color:#660066'>IRemoteServiceCallback</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>.</span></span><span class=typ><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:#660066'>Stub</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>()</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> </span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>{</span></span></pre><pre style='text-indent:24.0pt;background:
#FAFAFA;border:none;padding:0cm'><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>&nbsp; &nbsp;</span></span><span
class=com><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#880000'>/**</span></span></pre><pre style='text-indent:24.0pt;
background:#FAFAFA;border:none;padding:0cm'><span class=com><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:#880000'>&nbsp; &nbsp; &nbsp;* This is called by the remote service regularly to tell us about</span></span></pre><pre
style='text-indent:24.0pt;background:#FAFAFA;border:none;padding:0cm'><span
class=com><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#880000'>&nbsp; &nbsp; &nbsp;* new values. &nbsp;Note that IPC calls are dispatched through a thread</span></span></pre><pre
style='text-indent:24.0pt;background:#FAFAFA;border:none;padding:0cm'><span
class=com><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#880000'>&nbsp; &nbsp; &nbsp;* pool running in each process, so the code executing here will</span></span></pre><pre
style='text-indent:24.0pt;background:#FAFAFA;border:none;padding:0cm'><span
class=com><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#880000'>&nbsp; &nbsp; &nbsp;* NOT be running in our main thread like most other things -- so,</span></span></pre><pre
style='text-indent:24.0pt;background:#FAFAFA;border:none;padding:0cm'><span
class=com><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#880000'>&nbsp; &nbsp; &nbsp;* to update the UI, we need to use a Handler to hop over there.</span></span></pre><pre
style='text-indent:24.0pt;background:#FAFAFA;border:none;padding:0cm'><span
class=com><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#880000'>&nbsp; &nbsp; */</span></span></pre><pre style='text-indent:
24.0pt;background:#FAFAFA;border:none;padding:0cm'><span class=pln><span
lang=EN-US style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>&nbsp; &nbsp;</span></span><span class=kwd><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:#000088'>public</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> </span></span><span class=kwd><span style='font-size:
10.5pt;font-family:"Calibri","sans-serif";color:#000088'>void</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> valueChanged</span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>(</span></span><span
class=kwd><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#000088'>int</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> value</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>)</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> </span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>{</span></span></pre><pre style='text-indent:24.0pt;background:
#FAFAFA;border:none;padding:0cm'><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>&nbsp; &nbsp; &nbsp; &nbsp;mHandler</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>.</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>sendMessage</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>(</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>mHandler</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>.</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>obtainMessage</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>(</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>BUMP_MSG</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>,</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> value</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>,</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> </span></span><span
class=lit><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#006666'>0</span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>));</span></span></pre><pre
style='text-indent:24.0pt;background:#FAFAFA;border:none;padding:0cm'><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>&nbsp; &nbsp;</span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>}</span></span></pre><pre
style='text-indent:24.0pt;background:#FAFAFA;border:none;padding:0cm'><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>};</span></span></pre><pre style='text-indent:24.0pt;background:
#FAFAFA;border:none;padding:0cm'><span class=kwd><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:#000088'>private</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> </span></span><span class=kwd><span style='font-size:
10.5pt;font-family:"Calibri","sans-serif";color:#000088'>static</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> </span></span><span class=kwd><span style='font-size:
10.5pt;font-family:"Calibri","sans-serif";color:#000088'>final</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> </span></span><span class=kwd><span style='font-size:
10.5pt;font-family:"Calibri","sans-serif";color:#000088'>int</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> BUMP_MSG </span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>=</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> </span></span><span class=lit><span style='font-size:
10.5pt;font-family:"Calibri","sans-serif";color:#006666'>1</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>;</span></span></pre><pre style='text-indent:24.0pt;background:
#FAFAFA;border:none;padding:0cm'><span class=kwd><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:#000088'>private</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> </span></span><span class=typ><span style='font-size:
10.5pt;font-family:"Calibri","sans-serif";color:#660066'>Handler</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> mHandler </span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>=</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> </span></span><span class=kwd><span style='font-size:
10.5pt;font-family:"Calibri","sans-serif";color:#000088'>new</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> </span></span><span class=typ><span style='font-size:
10.5pt;font-family:"Calibri","sans-serif";color:#660066'>Handler</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>()</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> </span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>{</span></span></pre><pre style='text-indent:24.0pt;background:
#FAFAFA;border:none;padding:0cm'><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>&nbsp; &nbsp;</span></span><span
class=lit><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#006666'>@Override</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> </span></span><span
class=kwd><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#000088'>public</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> </span></span><span
class=kwd><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#000088'>void</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> handleMessage</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>(</span></span><span class=typ><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:#660066'>Message</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> msg</span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>)</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> </span></span><span class=pun><span style='font-family:
"Calibri","sans-serif";color:#666600'>{</span></span></pre><pre
style='text-indent:24.0pt;background:#FAFAFA;border:none;padding:0cm'><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>&nbsp; &nbsp; &nbsp; &nbsp;</span></span><span class=kwd><span
lang=EN-US style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#000088'>switch</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> </span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>(</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>msg</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>.</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>what</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>)</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> </span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>{</span></span></pre><pre style='text-indent:24.0pt;background:
#FAFAFA;border:none;padding:0cm'><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span></span><span
class=kwd><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#000088'>case</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'> BUMP_MSG</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>:</span></span></pre><pre style='text-indent:24.0pt;background:
#FAFAFA;border:none;padding:0cm'><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;mCallbackText</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>.</span></span><span class=pln><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:black'>setText</span></span><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>(</span></span><span class=str><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif";color:#008800'>&quot;Received from service: &quot;</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> </span></span><span class=pun><span style='font-family:
"Calibri","sans-serif";color:#666600'>+</span></span><span class=pln><span
lang=EN-US style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'> msg</span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>.</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>arg1</span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>);</span></span></pre><pre
style='text-indent:24.0pt;background:#FAFAFA;border:none;padding:0cm'><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span></span><span
class=kwd><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#000088'>break</span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>;</span></span></pre><pre
style='text-indent:24.0pt;background:#FAFAFA;border:none;padding:0cm'><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span></span><span
class=kwd><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#000088'>default</span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>:</span></span></pre><pre
style='text-indent:24.0pt;background:#FAFAFA;border:none;padding:0cm'><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span></span><span
class=kwd><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:#000088'>super</span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>.</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>handleMessage</span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>(</span></span><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>msg</span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>);</span></span></pre><pre
style='text-indent:24.0pt;background:#FAFAFA;border:none;padding:0cm'><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>&nbsp; &nbsp; &nbsp; &nbsp; </span></span><span class=pun><span
lang=EN-US style='font-family:"Calibri","sans-serif";color:#666600'>}</span></span></pre><pre
style='text-indent:24.0pt;background:#FAFAFA;border:none;padding:0cm'><span
class=pln><span style='font-size:10.5pt;font-family:"Calibri","sans-serif";
color:black'>&nbsp; &nbsp;</span></span><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>}</span></span></pre><pre
style='text-indent:24.0pt;background:#FAFAFA;border:none;padding:0cm'><span
class=pun><span style='font-family:"Calibri","sans-serif";
color:#666600'>};</span></span></pre><pre style='text-indent:24.0pt;background:
#FAFAFA;border:none;padding:0cm'><span class=pun><span
style='font-family:"Calibri","sans-serif";color:#666600'>}</span></span></pre></div>

<p class=MsoNormal align=left style='text-align:left'><span>&nbsp;</span></p>

</div>

<span style='font-size:10.5pt;font-family:"Calibri","sans-serif"'><br
clear=all style='page-break-before:auto'>
</span>

      
</body>
</html>
