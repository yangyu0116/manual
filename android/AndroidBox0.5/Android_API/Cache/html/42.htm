<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"><html>
<head>
<meta http-equiv=Content-Type content="text/html; charset=gb2312">
<link rel="stylesheet" href="Word2Chm.css" type="text/css">
<title> ViewStub</title>
</head>
<body>     
<div class=WordSection42 style='layout-grid:15.6pt'>

<p class=MsoNormal align=center style='text-align:center'><a name=ViewStub><b><span
lang=EN-US style='font-size:22.0pt'>ViewStub</span></b></a></p>
<p class=MsoNormal align=center style='text-align:center'><span
>译者署名：唐明</span></p>
<p class=MsoNormal align=center style='text-align:center'><span
>版本：</span><span>Android 2.2 r1</span></p>
<p class=MsoNormal><span>&nbsp;</span></p>
<p class=MsoNormal align=left style='text-align:left'><b><i><span>public
final class <span style='color:#C00000'>ViewStub</span> extends<span
style='color:#C00000'> View</span></span></i></b></p>
<p class=MsoNormal align=left style='text-align:left'><span>&nbsp;</span></p>
<p class=MsoNormal align=left style='text-align:left'><span>java.lang.Object</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
lang=EN-US>android.view.View</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
lang=EN-US>&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; </span><span>android.view.ViewStub</span></p>
<p class=MsoNormal align=left style='text-align:left'><span>&nbsp;</span></p>
<p class=MsoNormal align=left style='text-align:left'><b><span
>类摘要：</span></b></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
lang=EN-US>ViewStub</span><span style='font-family:"Verdana","sans-serif"'>
</span><span >是一个隐藏的，不占用内存空间的</span><span
>视图对象</span><span >，它可以在运行时延迟加载布局资源文件。当</span><span
lang=EN-US>ViewStub</span><span >可见，或者调用</span><span
style='font-family:"Verdana","sans-serif"'> </span><u><span
style=';color:blue'>inflate()</span></u><span style='font-family:
宋体'>函数时，才会加载这个布局资源文件。</span><span style='font-family:"Verdana","sans-serif"'> </span><span
>该</span><span>ViewStub</span><span
>在加载视图时在父容器中替换它本身。因此，</span><span>ViewStub</span><span
>会一直</span><span >存在于</span><span
>视图</span><span >中，直到调用</span><u><span
lang=EN-US style=';color:blue'>setVisibility(int)</span></u><span
lang=EN-US style='font-family:"Verdana","sans-serif"'> </span><span
>或者</span><u><span style=';
color:blue'>inflate()</span></u><span >为止。</span><span
lang=EN-US>ViewStub</span><span >的布局参数</span><span
>会随着加载的视图</span><span >数一同</span><span
>被添加到</span><span>ViewStub</span><span
>父容器</span><span >。同样，你也可以通过使用<span
lang=EN-US>inflatedId</span>属性来定义或重命名要加载的视图对象的<span>Id</span>值。</span><span
>例如</span><span>:</span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
lang=EN-US><img border=0 width=539 height=115
src="image/image044.png"></span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
>通过</span><span>&quot;stud&quot;id</span><span
>可以找到被定义的</span><span>ViewStub</span><span
>对象。加载布局资源文件</span><span>&quot;mySubTree
&quot;</span><span >后，</span><span> ViewStub</span><span
>对象从其父容器中移除。可以通过</span><span>id&quot;subTree&quot;</span><span
>找到由布局资源</span><span>&quot;mySubTree&quot;</span><span
>创建的</span><span>View</span><span
>。这个视图对象最后被指定为宽</span><span>120dip</span><span
>，高</span><span>40dip</span><span
>。执行加载布局资源文件的推荐方式如下：</span></p>
<p class=MsoNormal align=left style='text-align:left'><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <img
border=0 width=498 height=68
src="image/image045.png">&nbsp; </span></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
>当</span><span>inflate()</span><span
>被调用</span><span>, </span><span
>这个</span><span>ViewStub</span><span
>被加载的视图替代并且返回这个视图对象。这使得应用程序不需要额外执行</span><span
lang=EN-US>findViewById()</span><span >来获取加载视图的引用。</span></p>
<p class=MsoNormal align=left style='text-align:left'><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>（译者注：这个类大概意思是用</span><span>ViewStub</span><span
>类和在</span><span>XML</span><span
>文件里面指定的布局资源文件关联起来，让布局资源文件在需要使用的时候再加载上去。主要作用是性能优化，什么时候用什么时候加载，不用在开始启动的时候一次加载</span><span
lang=EN-US>,</span><span >既可以加快程序的启动速度，又可以节省内存资源。）</span></p>
<p class=MsoNormal><span>&nbsp;</span></p>
<p class=MsoNormal><b><span >嵌套类</span></b></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>接口</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ViewStub.OnInflateListener&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>一个用于接收</span><span>ViewStub</span><span
>已经成功加载布局资源文件的通知的监听器。</span></p>
<p class=MsoNormal><span>&nbsp;</span></p>
<p class=MsoNormal><b><span>XML</span></b><b><span style='font-family:
宋体'>属性</span></b></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:12.5pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=123 valign=top style='width:92.15pt;border:solid black 1.0pt;
  background:#DEE8F1;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  >属性名称</span></p>
  </td>
  <td width=161 valign=top style='width:120.5pt;border-top:solid black 1.0pt;
  border-left:none;border-bottom:solid black 1.0pt;border-right:solid windowtext 1.0pt;
  background:#DEE8F1;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  >相关方法</span></p>
  </td>
  <td width=255 valign=top style='width:191.35pt;border:solid black 1.0pt;
  border-left:none;background:#DEE8F1;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  >描述</span></p>
  </td>
 </tr>
 <tr>
  <td width=123 style='width:92.15pt;border:solid black 1.0pt;border-top:none;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><b><span
  style='color:#C00000'>android:inflatedId</span></b></p>
  </td>
  <td width=161 style='width:120.5pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span>setInflatedId(int)</span></p>
  </td>
  <td width=255 style='width:191.35pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  >覆盖待加载视图的</span><span>id</span><span
  >值。</span></p>
  </td>
 </tr>
 <tr>
  <td width=123 style='width:92.15pt;border:solid black 1.0pt;border-top:none;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><b><span
  style='color:#C00000'>android:layout</span></b></p>
  </td>
  <td width=161 style='width:120.5pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span>setLayoutResource(int)</span></p>
  </td>
  <td width=255 style='width:191.35pt;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  >为待加载的资源视图提供一个标识，在</span><span>ViewStub</span><span
  >变为可见或获取焦点时使用它。（译者注：要引用的布局资源文件</span><span>id</span><span
  >）</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span>&nbsp;</span></p>
<p class=MsoNormal><b><span >构造函数</span></b></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ViewStub(Context
context, int layoutResource)</span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>创建一个与指定的布局资源文件关联的</span><span>ViewStub</span><span
>对象。</span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>参数</span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; layoutResource&nbsp;&nbsp;
</span><span >要加载的布局资源文件的</span><span>id</span><span
>值。</span></p>
<p class=MsoNormal><span>&nbsp;</span></p>
<p class=MsoNormal><b><span >公共方法</span></b></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
style='background:silver'>public void draw (Canvas canvas)</span></span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>手动在指定的画布绘制这个视图</span><span>(</span><span
>及所有其子视图</span><span>)</span><span
>。这个视图必须在调用这个函数之前做好了整体布局。当要自己实现一个视图时，不要重载这个方法；相反，你应该重载</span><span
lang=EN-US>onDraw(Canvas)</span><span >方法。（译者注：<span
style='color:red'>主要用于自定义的视图组件的方法。</span>）</span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>参数</span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; canvas
&nbsp;&nbsp; </span><span >这个画布传到那个已渲染的视图对象。</span></p>
<p class=MsoNormal><span>&nbsp;</span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
style='background:silver'>public int getInflatedId ()</span></span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>返回加载的布局资源文件的</span><span>ID</span><span
>，如果加载的布局资源文件的</span><span>id</span><span
>是</span><span>NO_ID,</span><span
>那么这个加载的</span><span>View</span><span
>将保留它原来的</span><span>id</span><span
>值。</span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>相关</span><span>XML </span><span
>属性</span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; android:inflatedId</span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>返回值</span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>一个正整数来标识这个要加载的视图或者</span><span>NO_ID</span><span
>将保持加载视图原来的</span><span>id</span><span
>。</span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>参见</span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; setInflatedId(int)</span></p>
<p class=MsoNormal><span>&nbsp;</span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
style='background:silver'>public int getLayoutResource ()</span></span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>返回加载的布局资源文件的</span><span>id</span><span
>值。</span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>相关</span><span>XML </span><span
>属性</span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; android:layout</span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>返回值</span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>加载到视图对象的布局资源文件</span><span>id</span><span
>值。</span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>参见</span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; setLayoutResource(int)</span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; setVisibility(int)</span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; inflate()</span></p>
<p class=MsoNormal><span>&nbsp;</span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
style='background:silver'>public View inflate ()</span></span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>加载</span><span>getLayoutResource()</span><span
>方法标识的布局资源，并通过加载布局资源替换父容器中它自己。</span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>返回值</span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>这个已加载的布局资源文件</span><span>. </span></p>
<p class=MsoNormal><span>&nbsp;</span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
style='background:silver'>public void setInflatedId (int inflatedId)</span></span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>设置加载视图的</span><span>ID</span><span
>。如果这个</span><span>id</span><span
>为</span><span>NO_ID</span><span
>，这个加载视图保持它原来的</span><span>id</span><span
>不变。</span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>相关</span><span>XML </span><span
>属性</span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; android:inflatedId</span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>参数</span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; inflatedId
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style='font-family:
宋体'>一个正整数来标识这个加载视图或者</span><span>NO_ID</span><span style='font-family:
宋体'>将保持加载视图原来的</span><span>id</span><span >。</span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>参见</span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; getInflatedId()</span></p>
<p class=MsoNormal><span>&nbsp;</span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
style='background:silver'>public void setLayoutResource (int layoutResource)</span></span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>设置待加载的布局资源文件，当</span><span>ViewStub</span><span
>被设置为</span><span>visible</span><span
>或</span><span>invisible</span><span
>或调用</span><span>inflate()</span><span
>时使用。这个在加载布局资源文件时创建的视图用来在父容器中替换它自己。</span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>相关</span><span>XML </span><span
>属性</span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; android:layout</span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>参数</span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; layoutResource
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span >一个有效的布局资源文件</span><span
lang=EN-US>id</span><span >值（不等于</span><span>0</span><span
>）。</span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>参见</span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; getLayoutResource()</span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; setVisibility(int)</span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; inflate()</span></p>
<p class=MsoNormal><span>&nbsp;</span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
style='background:silver'>public void setOnInflateListener
(ViewStub.OnInflateListener inflateListener)</span></span></p>
<p class=MsoNormal style='text-indent:21.0pt'><span >设置成功加载布局资源文件后事件通知的监听器。</span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>参数</span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; inflateListener
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style='font-family:
宋体'>该</span><span>OnInflateListener</span><span style='font-family:
宋体'>在成功加载后得到事件通知。</span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>参见</span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ViewStub.OnInflateListener</span></p>
<p class=MsoNormal><span>&nbsp;</span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
style='background:silver'>public void setVisibility (int visibility)</span></span></p>
<p class=MsoNormal style='text-indent:21.0pt'><span >当可见性设置为</span><span
lang=EN-US>VISIBLE</span><span >或</span><span>INVISIBLE</span><span
>，</span><span>inflate()</span><span
>将被调用，并且加载视图资源在父容器中替换</span><span>ViewStub</span><span
>。</span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>参数</span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; visibility
 </span><span >设置为</span><span>VISIBLE</span><span
>（显示）</span><span>, INVISIBLE</span><span
>（隐藏）</span><span>, </span><span
>或</span><span> GONE</span><span
>（完全隐藏，不暂用布局位置）</span><span>.</span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>参见</span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; inflate()</span></p>
<p class=MsoNormal><span>&nbsp;</span></p>
<p class=MsoNormal><b><span >受保护方法</span></b></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
style='background:silver'>protected void dispatchDraw (Canvas canvas)</span></span></p>
<p class=MsoNormal style='text-indent:21.0pt'><span >调用这个函数去绘制这个控件的子视图。可以通过派生类重写在绘制子类之前获取控制（但是是在他自己的视图已经被绘制完之后）</span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>参数</span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; canvas
&nbsp;&nbsp; </span><span >这个画布传到那个已渲染的视图对象。</span></p>
<p class=MsoNormal><span>&nbsp;</span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
style='background:silver'>protected void onMeasure (int widthMeasureSpec, int
heightMeasureSpec)</span></span></p>
<p class=MsoNormal style='text-indent:21.0pt'><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>测量这个视图以确定其内容的高度和宽度。通过</span><span>measure(int,
int)</span><span >来调用这个方法，并且应该由子类重写以提高内容测量的效率和精确度。</span></p>
<p class=MsoNormal style='text-indent:21.0pt'><span >约定：当该方法被重写时，你必须调用</span><span
lang=EN-US>setMeasuredDimension(int, int)</span><span >来存储已测量视图的高度和宽度。否则将通过</span><span
lang=EN-US>measure(int, int)</span><span >抛出一个</span><span
lang=EN-US>IllegalStateException</span><span >异常。调用父类的</span><span
lang=EN-US>onMeasure(int, int)</span><span >方法是一个有效的办法。</span></p>
<p class=MsoNormal style='text-indent:21.0pt'><span >父类的实现是以背景大小为默认大小，除非</span><span
lang=EN-US>MeasureSpec</span><span >（测量细则）允许更大的背景。</span><span
lang=EN-US>&nbsp; </span><span >为了更好测量内容子类应该重写</span><span
lang=EN-US>onMeasure(int, int)</span><span >。</span></p>
<p class=MsoNormal style='text-indent:21.0pt'><span >如果这个方法被重写，子类有责任确保测量它的高度和宽度至少是视图的最小宽度和高度（</span><span
lang=EN-US>getSuggestedMinimumHeight()</span><span >和</span><span
lang=EN-US>getSuggestedMinimumWidth()</span><span >）。</span></p>
<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt'><span
>参数</span></p>
<p class=MsoNormal style='margin-left:42.0pt;text-indent:21.0pt'><span
lang=EN-US>widthMeasureSpec &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>由于父类有横向空间要求，参见</span><span>View.MeasureSpec</span><span
>。</span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; heightMeasureSpec
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span >由于父类有纵向空间要求，参见</span><span
lang=EN-US>View.MeasureSpec</span><span >。</span></p>

</div>

<span style='font-size:10.5pt;font-family:"Calibri","sans-serif"'><br
clear=all style='page-break-before:auto'>
</span>

      
</body>
</html>
