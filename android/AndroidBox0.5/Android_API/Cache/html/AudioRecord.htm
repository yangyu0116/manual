<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"><html>
<head>
<meta http-equiv=Content-Type content="text/html; charset=gb2312">
<meta name=Generator content="Word2Chm Addin (v1.4.7.4)">
<link rel="stylesheet" href="Word2Chm.css" type="text/css">

<title> AudioRecord</title>
</head>
      
<div class=WordSection1 style='layout-grid:15.6pt'>

<p class=MsoNormal align=center style='text-align:center'><b><span
style='font-size:18.0pt'>AudioRecord</span></b></p>
<p class=MsoNormal align=center style='text-align:center'><span
>译者署名：</span> <span>chenwei</span></p>
<p class=MsoNormal align=center style='text-align:center'><span
>版本：</span><span>Android 3.1 r1</span></p>
<p class=MsoNormal align=left style='text-align:left'><span>&nbsp;</span></p>
<p class=MsoNormal align=left style='text-align:left'><b><span
style='font-size:12.0pt;'>结构</span></b></p>
<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
>继承关系</span></p>
<p class=p0 align=left style='margin-left:21.0pt;text-align:left;text-indent:
21.0pt'><b><i><span>public class <span style='color:#C00000'>AudioRecord
</span>extends <span style='color:#C00000'>Object</span></span></i></b></p>
<p class=MsoNormal align=left style='margin-left:21.0pt;text-align:left;
text-indent:21.0pt'><b><i><span style='color:#C00000'>&nbsp;</span></i></b></p>
<p class=MsoNormal align=left style='margin-left:21.0pt;text-align:left'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;java.lang.Object</span></p>
<p class=MsoNormal align=left style='margin-left:42.0pt;text-align:left;
text-indent:21.0pt'><span>android.media.AudioRecord</span></p>
<p class=MsoNormal align=left style='text-align:left'><span>&nbsp;</span></p>
<p class=MsoNormal align=left style='text-align:left'><b><span
style='font-size:12.0pt;'>类概述</span></b></p>
<p class=MsoNormal style='text-indent:21.0pt'><span>AudioRecord</span><span
>类在</span><span>Java</span><span
>应用程序中管理音频资源，用来记录从平台音频输入设备产生的数据。</span> <span
>通过</span><span>AudioRecord</span><span
>对象来完成</span><span>&quot;pulling&quot;</span><span
>（读取）数据。</span> <span >应用通过以下几个方法负责立即从</span><span
lang=EN-US>AudioRecord</span><span >对象读取：</span> <span
lang=EN-US><a target="_blank" href="http://developer.android.com/reference/android/media/AudioRecord.html#read(byte[],%20int,%20int)">read(byte[],
int, int)</a></span><span >，</span> <span><a target="_blank" href="http://developer.android.com/reference/android/media/AudioRecord.html#read(short[],%20int,%20int)">read(short[],
int, int)</a></span><span >或</span><span><a target="_blank" href="http://developer.android.com/reference/android/media/AudioRecord.html#read(java.nio.ByteBuffer,%20int)">read(ByteBuffer,
int)</a>. </span><span >无论使用哪种音频格式，使用</span><span
lang=EN-US>AudioRecord</span><span >是最方便的。</span></p>
<p class=MsoNormal style='text-indent:21.0pt'><span >在创建</span><span
lang=EN-US>AudioRecord</span><span >对象时，</span><span
lang=EN-US>AudioRecord</span><span >会初始化，并和音频缓冲区连接，用来缓冲新的音频数据。</span>
<span >根据构造时指定的缓冲区大小，来决定</span><span>AudioRecord</span><span
>能够记录多长的数据。</span> <span >从硬件设备读取的数据，应小于整个记录缓冲区。</span></p>
<p class=MsoNormal><span>&nbsp;</span></p>
<p class=MsoNormal><b><span style='font-size:12.0pt;'>内部类</span></b></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
style='background:#D9D9D9'>interface &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <b>AudioRecord.OnRecordPositionUpdateListener</b></span></span></p>
<p class=MsoNormal style='text-indent:21.0pt'><span >接口定义为：当</span><span
lang=EN-US>AudioRecord </span><span >收到一个由</span><span
lang=EN-US><a target="_blank" href="http://developer.android.com/reference/android/media/AudioRecord.html#setNotificationMarkerPosition(int)">setNotificationMarkerPosition(int)</a></span><span
>设置的通知标志，或由</span> <span><a target="_blank" href="http://developer.android.com/reference/android/media/AudioRecord.html#setPositionNotificationPeriod(int)">setPositionNotificationPeriod(int)</a></span><span
>设置的周期更新记录的进度状态时，回调此接口。</span>  class=MsoNormal><span>&nbsp;</span></p>
<p class=MsoNormal><b><span style='font-size:12.0pt;'>常量</span></b></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
style='background:#D9D9D9'>public static final int <b>ERROR</b></span></span></p>
<p class=MsoNormal style='text-indent:21.0pt'><span >表示操作失败。</span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>常量值</span><span>: -1 (0xffffffff)</span></p>
<p class=MsoNormal><span>&nbsp;</span></p>
<p class=MsoNormal style='margin-left:21.0pt'><span
style='background:#D9D9D9'>public static final int <b>ERROR_BAD_VALUE</b></span></p>
<p class=MsoNormal style='margin-left:21.0pt'><span >表示使用了一个不合理的值导致的失败。</span></p>
<p class=MsoNormal style='margin-left:21.0pt'><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>常量值</span><span>: -2 (0xfffffffe)</span></p>
<p class=MsoNormal style='margin-left:21.0pt'><span>&nbsp;</span></p>
<p class=MsoNormal style='margin-left:21.0pt'><span
style='background:#D9D9D9'>public static final int <b>ERROR_INVALID_OPERATION</b></span></p>
<p class=MsoNormal style='margin-left:21.0pt'><span >表示不恰当的方法导致的失败。</span></p>
<p class=MsoNormal style='margin-left:21.0pt'><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>常量值</span><span>: -3 (0xfffffffd)</span></p>
<p class=MsoNormal style='margin-left:21.0pt'><span>&nbsp;</span></p>
<p class=MsoNormal style='margin-left:21.0pt'><span
style='background:#D9D9D9'>public static final int <b>RECORDSTATE_RECORDING</b></span></p>
<p class=MsoNormal style='margin-left:21.0pt'><span >指示</span><span
lang=EN-US>AudioRecord</span><span >录制状态为“正在录制”。</span></p>
<p class=MsoNormal style='margin-left:21.0pt'><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>常量值</span><span>: 3 (0x00000003)</span></p>
<p class=MsoNormal style='margin-left:21.0pt'><span>&nbsp;</span></p>
<p class=MsoNormal style='margin-left:21.0pt'><span
style='background:#D9D9D9'>public static final int <b>RECORDSTATE_STOPPED</b></span></p>
<p class=MsoNormal style='margin-left:21.0pt'><span >指示</span><span
lang=EN-US>AudioRecord</span><span >录制状态为“不在录制”。</span></p>
<p class=MsoNormal style='margin-left:21.0pt'><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>常量值</span><span>: 1 (0x00000001)</span></p>
<p class=MsoNormal style='margin-left:21.0pt'><span>&nbsp;</span></p>
<p class=MsoNormal style='margin-left:21.0pt'><span
style='background:#D9D9D9'>public static final int <b>STATE_INITIALIZED</b></span></p>
<p class=MsoNormal style='margin-left:21.0pt'><span >指示</span><span
lang=EN-US>AudioRecord</span><span >准备就绪。</span></p>
<p class=MsoNormal style='margin-left:21.0pt'><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>常量值</span><span>: 1 (0x00000001)</span></p>
<p class=MsoNormal style='margin-left:21.0pt'><span>&nbsp;</span></p>
<p class=MsoNormal style='margin-left:21.0pt'><span
style='background:#D9D9D9'>public static final int <b>STATE_UNINITIALIZED</b></span></p>
<p class=MsoNormal style='margin-left:21.0pt'><span >指示</span><span
lang=EN-US>AudioRecord</span><span >状态没有初始化成功。</span></p>
<p class=MsoNormal style='margin-left:21.0pt'><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>常量值</span><span>: 0 (0x00000000)</span></p>
<p class=MsoNormal style='margin-left:21.0pt'><span>&nbsp;</span></p>
<p class=MsoNormal style='margin-left:21.0pt'><span
style='background:#D9D9D9'>public static final int <b>SUCCESS</b></span></p>
<p class=MsoNormal style='margin-left:21.0pt'><span >表示操作成功。</span></p>
<p class=MsoNormal style='margin-left:21.0pt'><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>常量值</span><span>: 0 (0x00000000)</span></p>
<p class=MsoNormal align=left style='text-align:left'><span>&nbsp;</span></p>
<p class=MsoNormal align=left style='text-align:left'><b><span
style='font-size:12.0pt;'>构造函数</span></b></p>
<p class=MsoNormal style='text-indent:21.0pt'><span
style='background:#D9D9D9'>public <b>AudioRecord</b> (int audioSource, int
sampleRateInHz, int channelConfig, int audioFormat, int bufferSizeInBytes)</span></p>
<p class=MsoNormal style='text-indent:21.0pt'><span >类构造函数。</span></p>
<p class=MsoNormal style='text-indent:21.0pt'><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>参数</span></p>
<p class=MsoNormal style='text-indent:21.0pt'><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; audioSource&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>录制源。</span> <span >请见</span><span
lang=EN-US><a target="_blank" href="http://developer.android.com/reference/android/media/MediaRecorder.AudioSource.html">MediaRecorder.AudioSource</a></span><span
>录制源定义。</span></p>
<p class=MsoNormal style='margin-left:84.0pt;text-indent:-21.0pt'><span
lang=EN-US>sampleRateInHz&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>默认采样率，单位</span><span>Hz</span><span
>。</span><span> 44100Hz</span><span
>是当前唯一能保证在所有设备上工作的采样率，在一些设备上还有</span><span>22050,
16000</span><span >或</span><span>11025</span><span
>。</span></p>
<p class=MsoNormal style='margin-left:84.0pt;text-indent:-21.0pt'><span
lang=EN-US>channelConfig &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>描述音频通道设置。</span> <span >请见</span><span
lang=EN-US><a target="_blank" href="http://developer.android.com/reference/android/media/AudioFormat.html#CHANNEL_IN_MONO">CHANNEL_IN_MONO</a>
</span><span >和</span> <span><a target="_blank" href="http://developer.android.com/reference/android/media/AudioFormat.html#CHANNEL_IN_STEREO">CHANNEL_IN_STEREO</a></span><span
>。</span> <span><a target="_blank" href="http://developer.android.com/reference/android/media/AudioFormat.html#CHANNEL_IN_MONO">CHANNEL_IN_MONO</a></span><span
>保证能在所有设备上工作。</span></p>
<p class=MsoNormal style='margin-left:84.0pt;text-indent:-21.0pt'><span
lang=EN-US>audioFormat&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>音频数据保证支持此格式。</span> <span >请见</span><span
lang=EN-US><a target="_blank" href="http://developer.android.com/reference/android/media/AudioFormat.html#ENCODING_PCM_16BIT">ENCODING_PCM_16BIT
</a></span><span >和</span><span><a target="_blank" href="http://developer.android.com/reference/android/media/AudioFormat.html#ENCODING_PCM_8BIT">ENCODING_PCM_8BIT</a></span><span
>。</span></p>
<p class=MsoNormal style='margin-left:84.0pt;text-indent:-21.0pt'><span
lang=EN-US>bufferSizeInBytes&nbsp;&nbsp;&nbsp; </span><span style='font-family:
宋体'>在录制过程中，音频数据写入缓冲区的总数（字节）。</span> <span >从缓冲区读取的新音频数据总会小于此值。</span>
<span><a target="_blank" href="http://developer.android.com/reference/android/media/AudioRecord.html#getMinBufferSize(int,%20int,%20int)">getMinBufferSize(int,
int, int)</a></span><span >返回</span><span>AudioRecord
</span><span >实例创建成功后的最小缓冲区。</span> <span
>设置的值比</span><span>getMinBufferSize()</span><span
>还小则会导致初始化失败。</span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>异常</span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <a target="_blank" href="http://developer.android.com/reference/java/lang/IllegalArgumentException.html">IllegalArgumentException</a></span></p>
<p class=MsoNormal><span style='background:#D9D9D9'>&nbsp;</span></p>
<p class=MsoNormal><b><span style='font-size:12.0pt;'>公共方法</span></b></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
style='background:#D9D9D9'>public int <b>getAudioFormat</b> ()</span></span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>返回设置的音频数据格式。</span> <span >请见</span><span
lang=EN-US><a target="_blank" href="http://developer.android.com/reference/android/media/AudioFormat.html#ENCODING_PCM_16BIT">ENCODING_PCM_16BIT
</a></span><span >和</span><span><a target="_blank" href="http://developer.android.com/reference/android/media/AudioFormat.html#ENCODING_PCM_8BIT">ENCODING_PCM_8BIT</a></span><span
>。</span></p>
<p class=MsoNormal><span>&nbsp;</span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
style='background:#D9D9D9'>public int <b>getAudioSource</b> ()</span></span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>返回音频录制源。</span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>参见</span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><code><span
lang=EN-US style='font-size:12.0pt'><a target="_blank" href="http://developer.android.com/reference/android/media/MediaRecorder.AudioSource.html"><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif"'>MediaRecorder.AudioSource</span></a></span></code></p>
<p class=MsoNormal><code><span style='font-family:"Calibri","sans-serif"'>&nbsp;</span></code></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
style='background:#D9D9D9'>public int <b>getChannelConfiguration</b> ()</span></span></p>
<p class=MsoNormal><code><span style='font-family:"Calibri","sans-serif"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></code><span
>返回设置的频道设置。</span> <span >请见</span><code><span
lang=EN-US style='font-family:"Calibri","sans-serif"'><a target="_blank" href="http://developer.android.com/reference/android/media/AudioFormat.html#CHANNEL_IN_MONO">CHANNEL_IN_MONO</a></span></code><span
>和</span><code><span style='font-family:"Calibri","sans-serif"'><a target="_blank" href="http://developer.android.com/reference/android/media/AudioFormat.html#CHANNEL_IN_STEREO">CHANNEL_IN_STEREO</a></span></code><span
>。</span></p>
<p class=MsoNormal><span>&nbsp;</span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
style='background:#D9D9D9'>public int <b>getChannelCount</b> ()</span></span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>返回设置的频道数目。</span></p>
<p class=MsoNormal><span>&nbsp;</span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
style='background:#D9D9D9'>public static int <b>getMinBufferSize</b> (int
sampleRateInHz, int channelConfig, int audioFormat)</span></span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>返回成功创建</span><span>AudioRecord</span><span
>对象所需要的最小缓冲区大小。</span> <span >注意：这个大小并不保证在负荷下的流畅录制，应根据预期的频率来选择更高的值，</span><span
lang=EN-US>AudioRecord</span><span >实例在推送新数据时使用此值。</span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>参数</span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sampleRateInHz&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>默认采样率，单位</span><span>Hz</span><span
>。</span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; channelConfig&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>描述音频通道设置。</span></p>
<p class=MsoNormal style='margin-left:126.0pt;text-indent:21.0pt'><span
>请见</span><code><span style='font-family:"Calibri","sans-serif"'><a target="_blank" href="http://developer.android.com/reference/android/media/AudioFormat.html#CHANNEL_IN_MONO">CHANNEL_IN_MONO</a></span></code><span
>和</span><code><span style='font-family:"Calibri","sans-serif"'><a target="_blank" href="http://developer.android.com/reference/android/media/AudioFormat.html#CHANNEL_IN_STEREO">CHANNEL_IN_STEREO</a></span></code><span
>。</span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; audioFormat&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>音频数据保证支持此格式。参见</span><code><span
style='font-size:12.0pt'><a target="_blank" href="http://developer.android.com/reference/android/media/AudioFormat.html#ENCODING_PCM_16BIT"><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif"'>ENCODING_PCM_16BIT</span></a></span></code><span
>。</span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>返回值</span></p>
<p class=MsoNormal style='margin-left:42.0pt;text-indent:21.0pt'><span
>如果硬件不支持录制参数，或输入了一个无效的参数，则返回</span><span><a target="_blank" href="http://developer.android.com/reference/android/media/AudioRecord.html#ERROR_BAD_VALUE">ERROR_BAD_VALUE</a></span><span
>，如果硬件查询到输出属性没有实现，或最小缓冲区用</span><span>byte</span><span
>表示，则返回</span><span><a target="_blank" href="http://developer.android.com/reference/android/media/AudioRecord.html#ERROR">ERROR</a></span><span
>。</span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>参见</span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <a target="_blank" href="http://developer.android.com/reference/android/media/AudioRecord.html#AudioRecord(int,%20int,%20int,%20int,%20int)"><span
lang=EN-US ><span>更多信息请见有效的设置参数</span></span></a></span></p>
<p class=MsoNormal><span>&nbsp;</span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
style='background:#D9D9D9'>public int <b>getNotificationMarkerPosition</b> ()</span></span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>返回通知，标记框架中的位置。</span></p>
<p class=MsoNormal><span>&nbsp;</span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
style='background:#D9D9D9'>public int <b>getPositionNotificationPeriod</b> ()</span></span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>返回通知，更新框架中的时间位置。</span></p>
<p class=MsoNormal><span>&nbsp;</span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
style='background:#D9D9D9'>public int <b>getRecordingState</b> ()</span></span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>返回</span><span>AudioRecord</span><span
>实例的录制状态。</span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>参见</span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><code><span
lang=EN-US style='font-size:12.0pt'><a target="_blank" href="http://developer.android.com/reference/android/media/AudioRecord.html#RECORDSTATE_STOPPED"><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif"'>RECORDSTATE_STOPPED</span></a></span></code></p>
<p class=MsoNormal><code><span style='font-size:12.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <a target="_blank" href="http://developer.android.com/reference/android/media/AudioRecord.html#RECORDSTATE_RECORDING"><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif"'>RECORDSTATE_RECORDING</span></a></span></code></p>
<p class=MsoNormal><span>&nbsp;</span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
style='background:#D9D9D9'>public int <b>getSampleRate</b> ()</span></span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>返回设置的音频数据样本采样率，单位</span><span>Hz</span><span
>。</span></p>
<p class=MsoNormal><span>&nbsp;</span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
style='background:#D9D9D9'>public int <b>getState</b> ()</span></span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>返回</span><span>AudioRecord</span><span
>实例的状态。</span> <span >这点非常有用，用在</span><span
lang=EN-US>AudioRecord </span><span >实例创建成功后，检查初始化属性。</span>
<span >它能肯定请求到了合适的硬件资源。</span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>参见</span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><code><span
lang=EN-US style='font-size:12.0pt'><a target="_blank" href="http://developer.android.com/reference/android/media/AudioRecord.html#STATE_INITIALIZED"><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif"'>STATE_INITIALIZED</span></a></span></code></p>
<p class=MsoNormal><code><span style='font-size:12.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <a target="_blank" href="http://developer.android.com/reference/android/media/AudioRecord.html#STATE_UNINITIALIZED"><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif"'>STATE_UNINITIALIZED</span></a></span></code></p>
<p class=MsoNormal><span>&nbsp;</span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
style='background:#D9D9D9'>public int <b>read</b> (short[] audioData, int
offsetInShorts, int sizeInShorts)</span></span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>从音频硬件录制缓冲区读取数据。</span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>参数</span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; audioData&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>写入的音频录制数据。</span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; offsetInShorts&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>目标数组</span><span> audioData </span><span
>的起始偏移量。</span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
lang=EN-US>sizeInShorts&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>请求读取的数据大小。</span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>返回值</span></p>
<p class=MsoNormal style='margin-left:42.0pt;text-indent:21.0pt'><span
>返回</span><span>short</span><span
>型数据，表示读取到的数据，如果对象属性没有初始化，则返回</span><code><span
lang=EN-US style='font-size:12.0pt'><a target="_blank" href="http://developer.android.com/reference/android/media/AudioRecord.html#ERROR_INVALID_OPERATION"><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif"'>ERROR_INVALID_OPERATION</span></a></span></code><span
>，如果参数不能解析成有效的数据或索引，则返回</span><code><span
style='font-size:12.0pt'><a target="_blank" href="http://developer.android.com/reference/android/media/AudioRecord.html#ERROR_BAD_VALUE"><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif"'>ERROR_BAD_VALUE</span></a></span></code><span
>。</span> <span >返回数值不会超过</span><span
lang=EN-US>sizeInShorts</span><span >。</span></p>
<p class=MsoNormal><span>&nbsp;</span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
style='background:#D9D9D9'>public int <b>read</b> (byte[] audioData, int
offsetInBytes, int sizeInBytes)</span></span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>从音频硬件录制缓冲区读取数据。</span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>参数</span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; audioData&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>写入的音频录制数据。</span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; offsetInBytes&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
lang=EN-US>audioData</span><span >的起始偏移值，单位</span><span
lang=EN-US>byte</span><span >。</span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
lang=EN-US>sizeInBytes&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>读取的最大字节数。</span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>返回值</span></p>
<p class=MsoNormal style='margin-left:42.0pt;text-indent:21.0pt'><span
>读入缓冲区的总</span><span>byte</span><span
>数，如果对象属性没有初始化，则返回</span><code><span
style='font-size:12.0pt'><a target="_blank" href="http://developer.android.com/reference/android/media/AudioRecord.html#ERROR_INVALID_OPERATION"><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif"'>ERROR_INVALID_OPERATION</span></a></span></code><span
>，如果参数不能解析成有效的数据或索引，则返回</span><code><span
style='font-size:12.0pt'><a target="_blank" href="http://developer.android.com/reference/android/media/AudioRecord.html#ERROR_BAD_VALUE"><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif"'>ERROR_BAD_VALUE</span></a></span></code><span
>。</span> <span >读取的总</span><span
lang=EN-US>byte</span><span >数不会超过</span><span
lang=EN-US>sizeInBytes</span><span >。</span></p>
<p class=MsoNormal><span>&nbsp;</span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
style='background:#D9D9D9'>public int <b>read</b> (ByteBuffer audioBuffer, int
sizeInBytes)</span></span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>从音频硬件录制缓冲区读取数据，直接复制到指定缓冲区。</span> <span
>如果</span><span>audioBuffer</span><span
>不是直接的缓冲区，此方法总是返回</span><span>0</span><span
>。</span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>参数</span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; audioBuffer&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>存储写入音频录制数据的缓冲区。</span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sizeInBytes&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>请求的最大字节数。</span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>返回值</span></p>
<p class=MsoNormal style='margin-left:42.0pt;text-indent:21.0pt'><span
>读入缓冲区的总</span><span>byte</span><span
>数，如果对象属性没有初始化，则返回</span><code><span
style='font-size:12.0pt'><a target="_blank" href="http://developer.android.com/reference/android/media/AudioRecord.html#ERROR_INVALID_OPERATION"><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif"'>ERROR_INVALID_OPERATION</span></a></span></code><span
>，如果参数不能解析成有效的数据或索引，则返回</span><code><span
style='font-size:12.0pt'><a target="_blank" href="http://developer.android.com/reference/android/media/AudioRecord.html#ERROR_BAD_VALUE"><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif"'>ERROR_BAD_VALUE</span></a></span></code><span
>。</span> <span >读取的总</span><span
lang=EN-US>byte</span><span >数不会超过</span><span
lang=EN-US>sizeInBytes</span><span >。</span></p>
<p class=MsoNormal><span>&nbsp;</span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
style='background:#D9D9D9'>public void <b>release</b> ()</span></span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>释放本地</span><span>AudioRecord</span><span
>资源。</span> <span >对象不能经常使用此方法，而且在调用</span><span
lang=EN-US>release()</span><span >后，必须设置引用为</span><span
lang=EN-US>null</span><span >。</span></p>
<p class=MsoNormal><span>&nbsp;</span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
style='background:#D9D9D9'>public int <b>setNotificationMarkerPosition</b> (int
markerInFrames)</span></span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>如果设置了</span><code><span style='font-size:
12.0pt'><a target="_blank" href="http://developer.android.com/reference/android/media/AudioRecord.html#setRecordPositionUpdateListener%28android.media.AudioRecord.OnRecordPositionUpdateListener%29"><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif"'>setRecordPositionUpdateListener(OnRecordPositionUpdateListener)</span></a></span></code><span
>或</span><code><span style='font-size:12.0pt'><a target="_blank" href="http://developer.android.com/reference/android/media/AudioRecord.html#setRecordPositionUpdateListener%28android.media.AudioRecord.OnRecordPositionUpdateListener,%20android.os.Handler%29"><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif"'>setRecordPositionUpdateListener(OnRecordPositionUpdateListener,
Handler)</span></a></span></code><span >，则通知监听者设置位置标记。</span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>参数</span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; markerInFrames&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>在框架中快速标记位置。</span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>返回值</span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>返回错误或成功代码，请见</span><code><span
style='font-size:12.0pt'><a target="_blank" href="http://developer.android.com/reference/android/media/AudioRecord.html#SUCCESS"><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif"'>SUCCESS</span></a></span></code><span
>、</span><code><span style='font-size:12.0pt'><a target="_blank" href="http://developer.android.com/reference/android/media/AudioRecord.html#ERROR_BAD_VALUE"><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif"'>ERROR_BAD_VALUE</span></a></span></code><span
>、</span><code><span style='font-size:12.0pt'><a target="_blank" href="http://developer.android.com/reference/android/media/AudioRecord.html#ERROR_INVALID_OPERATION"><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif"'>ERROR_INVALID_OPERATION</span></a></span></code><code><span
style='font-size:12.0pt'>。</span></code></p>
<p class=MsoNormal><span>&nbsp;</span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
style='background:#D9D9D9'>public int <b>setPositionNotificationPeriod</b> (int
periodInFrames)</span></span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>如果设置了</span><code><span style='font-size:
12.0pt'><a target="_blank" href="http://developer.android.com/reference/android/media/AudioRecord.html#setRecordPositionUpdateListener%28android.media.AudioRecord.OnRecordPositionUpdateListener%29"><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif"'>setRecordPositionUpdateListener(OnRecordPositionUpdateListener)</span></a></span></code><span
>或</span><code><span style='font-size:12.0pt'><a target="_blank" href="http://developer.android.com/reference/android/media/AudioRecord.html#setRecordPositionUpdateListener%28android.media.AudioRecord.OnRecordPositionUpdateListener,%20android.os.Handler%29"><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif"'>setRecordPositionUpdateListener(OnRecordPositionUpdateListener,
Handler)</span></a></span></code><span >，则通知监听者设置时间标记。</span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>参数</span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; markerInFrames&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>在框架中快速更新时间标记。</span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>返回值</span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>返回错误或成功代码，请见</span><code><span
style='font-size:12.0pt'><a target="_blank" href="http://developer.android.com/reference/android/media/AudioRecord.html#SUCCESS"><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif"'>SUCCESS</span></a></span></code><code><span
style='font-size:12.0pt'>、<span><a target="_blank" href="http://developer.android.com/reference/android/media/AudioRecord.html#ERROR_INVALID_OPERATION"><span
style='font-size:10.5pt;font-family:"Calibri","sans-serif"'>ERROR_INVALID_OPERATION</span></a></span>。</span></code></p>
<p class=MsoNormal><span>&nbsp;</span></p>
<p class=MsoNormal style='text-indent:15.75pt'><span
style='background:#D9D9D9'>public void <b>setRecordPositionUpdateListener</b>
(AudioRecord.OnRecordPositionUpdateListener listener, Handler handler)</span></p>
<p class=MsoNormal style='text-indent:21.0pt'><span >当之前设置的标志已经成立，或者周期录制位置更新时，设置处理监听者。</span>
<span >使用此方法来将</span><span>Handler </span><span
>和别的线程联系起来，来接收</span><span>AudioRecord </span><span
>事件，比创建</span><span>AudioTrack </span><span
>实例更好一些。</span></p>
<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt'><span
>参数</span></p>
<p class=MsoNormal style='margin-left:21.0pt;text-indent:10.5pt'><span
lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; handler&nbsp;&nbsp;&nbsp; </span><span
>用来接收事件通知消息。</span></p>
<p class=MsoNormal><span>&nbsp;</span></p>
<p class=MsoNormal style='text-indent:15.75pt'><span
style='background:#D9D9D9'>public void <b>setRecordPositionUpdateListener</b>
(AudioRecord.OnRecordPositionUpdateListener listener)</span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>当之前设置的标志已经成立，或者周期录制位置更新时，设置处理监听者。</span></p>
<p class=MsoNormal><span>&nbsp;</span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
style='background:#D9D9D9'>public void <b>startRecording</b> ()</span></span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
lang=EN-US>AudioRecord</span><span >实例开始进行录制。</span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>异常</span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <a target="_blank" href="http://developer.android.com/reference/java/lang/IllegalStateException.html">IllegalStateException</a></span></p>
<p class=MsoNormal><span>&nbsp;</span></p>
<p class=MsoNormal><b><span style='font-size:12.0pt;'>受保护方法</span></b></p>
<p class=MsoNormal style='text-indent:21.0pt'><span
style='background:#D9D9D9'>protected void <b>finalize</b> ()</span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>通知</span><span>VM</span><span
>回收此对象内存。</span> <span >此方法只能用在运行的应用程序没有任何线程再使用此对象，来告诉垃圾回收器回收此对象。</span></p>
<p class=MsoNormal style='text-indent:21.0pt'><span >此方法用于释放系统资源，由垃圾回收器清除此对象。</span>
<span >默认没有实现，由</span><span>VM</span><span
>来决定，但子类根据需要可重写</span><span style='color:#007900'>finalize()</span><span
>。</span> <span >在执行期间，调用此方法可能会立即抛出未定义异常，但是可以忽略。</span></p>
<p class=MsoNormal style='text-indent:21.0pt'><span >注意：</span><span
lang=EN-US>VM</span><span >保证对象可以一次或多次调用</span><span
lang=EN-US style='color:#007900'>finalize()</span><span style='font-family:
宋体'>，但并不保证</span><span style='color:#007900'>finalize()</span><span
>会马上执行。</span> <span >例如，对象</span><span
lang=EN-US>B</span><span >的</span><span
style='color:#007900'>finalize()</span><span >可能延迟执行，等待对象</span><span
lang=EN-US>A</span><span >的</span><span
style='color:#007900'>finalize()</span><span >延迟回收</span><span
lang=EN-US>A</span><span >的内存。</span> <span
>为了安全起见，请看</span><span><a target="_blank" href="http://developer.android.com/reference/java/lang/ref/ReferenceQueue.html">ReferenceQueue</a></span><span
>，它提供了更多地控制</span><span>VM</span><span
>的垃圾回收。</span></p>
<p class=MsoNormal><span>&nbsp;</span></p>
<p class=MsoNormal><b><span style='font-size:12.0pt;'>补充</span></b></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
>文章精选</span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <a target="_blank" href="http://blog.csdn.net/hellogv/archive/2010/11/22/6026455.aspx">Android<span
lang=EN-US ><span>提高第十篇之</span></span>AudioRecord<span
lang=EN-US ><span>实现</span></span>&quot;<span
lang=EN-US ><span>助听器</span></span>&quot;</a></span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <a target="_blank" href="http://blog.sina.com.cn/s/blog_6309e1ed0100j1rw.html">Android<span
lang=EN-US ><span>入门（</span></span>9<span
lang=EN-US ><span>）</span></span>AudioRecord<span
lang=EN-US ><span>和</span></span>AudioTrack<span
lang=EN-US ><span>类的使用</span></span></a></span></p>
<p class=MsoNormal><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <a target="_blank" href="http://blog.csdn.net/chenjie19891104/archive/2011/04/19/6333553.aspx">Android<span
lang=EN-US ><span>多媒体学习十：利用</span></span>AudioRecord<span
lang=EN-US ><span>类实现自己的音频录制程序</span></span></a></span></p>

</div>

      
</body>
</html>
